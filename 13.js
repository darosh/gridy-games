(self.webpackJsonp=self.webpackJsonp||[]).push([[13,23],{108:function(t,e,n){"use strict";n.r(e);var i=n(285),r=n.n(i),a=n(6),s=n(291),o=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function c(t,e){return t[0]-e[0]||t[1]-e[1]}function l(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&o(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}var u={props:{fixed:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},data:function(){return{translate:[],size:[],hullPoints:"",resizing:!1}},methods:{frameUpdate:function(){if(this.game&&this.frame&&this.margin){var t=this.rescaleToFrame();this.fixed?this.size=[t.maxX-t.minX+this.margin,this.frame[1]+this.margin]:this.size=[t.maxX-t.minX+this.margin,t.maxY-t.minY+this.margin],this.hullPoints=this.game.hull?function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(c),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var a=l(i),s=l(r),o=s[0]===a[0],u=s[s.length-1]===a[a.length-1],g=[];for(e=a.length-1;e>=0;--e)g.push(t[i[a[e]][2]]);for(e=+o;e<s.length-u;++e)g.push(t[i[s[e]][2]]);return g}(this.getHull()).map(function(t){return t[0].toFixed(3)+" "+t[1].toFixed(3)}).join(" "):"",this.translate=function(t,e){var n=Math.floor(t.maxX-t.minX)%2?0:.5,i=Math.floor(t.maxY-t.minY)%2?0:.5;return[((e[0]-t.minX-t.maxX)/2+n).toFixed(3),((e[1]-t.minY-t.maxY)/2+i).toFixed(3)]}(t,this.size)}},path:function(t){return this.game.grid.path(t)},irregularVertices:function(t){return this.game.grid.path(t).map(function(t){return t.x.toFixed(3)+","+t.y.toFixed(3)}).join(" ")},typedVertices:function(t){return this.game.grid.vertices(t,void 0,this.game.grid.getTileType(t)).map(function(t){return t.x.toFixed(3)+","+t.y.toFixed(3)}).join(" ")},rescaleToFrame:function(){this.game.grid.scale=1;var t=this.game.grid.bounds(),e=Object(s.b)(t.maxX-t.minX,t.maxY-t.minY,this.frame[0],this.frame[1]);return!this.game.grid.irregular&&this.round?this.game.grid.scale=2*Math.floor(e/2):this.game.grid.scale=e,this.game.grid.bounds()},getHull:function(){var t=this,e=this.game.grid.vertices(this.game.grid.orientation);return this.game.grid.tiles.reduce(function(n,i){var a=t.game.grid.center(i),s=!0,o=!1,c=void 0;try{for(var l,u=r()(e);!(s=(l=u.next()).done);s=!0){var g=l.value;n.push([a.x+g.x,a.y+g.y])}}catch(t){o=!0,c=t}finally{try{!s&&u.return&&u.return()}finally{if(o)throw c}}return n},[])}},computed:{vertices:function(){return!this.game.grid.irregular&&this.game.grid.vertices(void 0,this.game.scale?2*Math.round(this.game.scale*this.game.grid.scale/2):this.game.grid.scale,1).map(function(t){return t.x.toFixed(3)+","+t.y.toFixed(3)}).join(" ")},shift:function(){return(window.innerHeight-this.size[this.vertical?0:1])/2-64+10}},watch:{frame:{handler:function(){var t=this;this.resizing=!0,this.frameUpdate(),a.a.nextTick(function(){setTimeout(function(){t.resizing=!1},200)})},immediate:!0}}};var g=n(265),d=0,f={components:{GPolyLine:function(){return Promise.all([n.e(19),n.e(21)]).then(n.bind(null,447))}},mixins:[u],model:{prop:"value",event:"change"},props:{game:{type:Object,required:!0},round:{type:Boolean,default:!0},interactive:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},waiting:{type:Boolean,default:!1},value:{type:Boolean,default:!1},coords:{type:Boolean,default:!1},frame:{type:Array,required:!0},margin:{type:Number,default:0},move:{type:Function,default:null}},data:function(){return{winning:null,lines:null,rulers:null,stones:null}},computed:{theme:function(){return Object(g.a)(this.game.constructor)},isMove:function(){return this.game.constructor.move}},watch:{game:{immediate:!0,handler:function(){this.lines=this.game.links?this.game.links():[],this.rulers=this.game.rulers?this.game.rulers():[],this.initStones()}},"game.moves.length":function(t,e){t===e+1?this.animateStones():this.initStones()},"game.winner":{immediate:!0,handler:function(t){this.winning=t&&this.game.winning?this.game.winning():null}}},mounted:function(){this.$emit("change",!0)},methods:{center:function(t,e){return e?this.game.grid.center(t).value.map(function(t){return""+t.toFixed(3)+e}):this.game.grid.center(t)},initStones:function(){if(this.stones=[],this.isMove){var t=!0,e=!1,n=void 0;try{for(var i,a=r()(this.game.grid.tiles);!(t=(i=a.next()).done);t=!0){var s=i.value;s.data&&this.stones.push({tile:s,data:s.data,id:++d})}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}},updateStones:function(){var t=this;this.isMove&&this.game.moves.length&&function(){var e=t.game.moves[t.game.moves.length-1],n=e[0],i=e[e.length-1];i=Array.isArray(i)?i[0]:i,t.stones.find(function(t){return t.tile===n}).tile=i;for(var r=function(n){if(Array.isArray(e[n])&&e[n][1]){var i=t.stones.findIndex(function(t){return t.tile===e[n][1]});t.stones.splice(i,1)}},a=0;a<e.length;a++)r(a)}()},animateStones:function(){var t=this;if(this.isMove&&this.game.moves.length){var e=this.game.moves[this.game.moves.length-1],n=e[0],i=this.stones.find(function(t){return t.tile===n}),r=1;!function n(){var a=e[r],s=Array.isArray(a)?a[0]:a;if(i.tile=s,Array.isArray(a)&&a[1]){var o=t.stones.findIndex(function(t){return t.tile===a[1]});t.stones.splice(o,1)}++r<e.length&&setTimeout(n,200)}()}}}},h=n(42);var m=function(t){n(318)},v=Object(h.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{vertical:t.vertical,"read-only":!t.interactive},style:{width:t.size[t.vertical?1:0]+"px",height:t.size[t.vertical?0:1]+"px","margin-top":t.centered&&t.shift>0?t.shift+"px":""}},[n("svg",{staticClass:"d-block",class:t.theme,attrs:{width:t.size[0],height:t.size[1],xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[t.hullPoints?n("polygon",{staticClass:"hull",attrs:{points:t.hullPoints,transform:"translate("+t.translate+")"}}):t._e(),t._v(" "),n("g",{attrs:{transform:"translate("+t.translate+")"}},[t._l(t.lines,function(e,i){return n("line",{key:i,class:e[2]?"line-"+e[2]:"",attrs:{x1:t.center(e[0]).x,y1:t.center(e[0]).y,x2:t.center(e[1]).x,y2:t.center(e[1]).y}})}),t._v(" "),t._l(t.game.grid.tiles,function(e){return n("g",{key:e.key,attrs:{transform:"translate("+t.center(e)+")"}},[t.game.grid.irregular?n("path",t._g({staticClass:"tile",class:(i={clickable:e.highlighted&&!t.waiting,possible:e.highlighted,odd:e.odd,animate:t.interactive,waiting:e.highlighted&&t.waiting},i["angle-"+Math.abs(t.game.grid.orientation*t.game.grid.angle)]=!0,i["value-"+(e.data||0)]=!0,i),attrs:{d:t.path(e),transform:"rotate("+t.game.grid.orientation*t.game.grid.angle+")"}},t.interactive?{click:function(){return t.move(e)}}:null)):n("polygon",t._g({staticClass:"tile",class:(r={clickable:e.highlighted&&!t.waiting,possible:e.highlighted,odd:e.odd,animate:t.interactive,waiting:e.highlighted&&t.waiting},r["angle-"+Math.abs(t.game.grid.orientation*t.game.grid.angle)]=!0,r["value-"+(e.data||0)]=!0,r),attrs:{points:2===t.game.grid.tileTypes?t.typedVertices(e):t.vertices||t.irregularVertices(e),transform:"rotate("+t.game.grid.orientation*t.game.grid.angle+")"}},t.interactive?{click:function(){return t.move(e)}}:null))]);var i,r}),t._v(" "),t._l(t.rulers,function(e,i){return n("line",{key:"r"+i,class:e[2]?"line-"+e[2]:"",attrs:{x1:t.center(e[0]).x,y1:t.center(e[0]).y,x2:t.center(e[1]).x,y2:t.center(e[1]).y}})}),t._v(" "),t._l(t.game.grid.tiles,function(e){return n("g",{key:"text"+e.key,attrs:{transform:"translate("+t.center(e)+")"}},[t.coords?n("text",{attrs:{"font-size":.4*t.game.grid.scale,dy:.04*t.game.grid.scale,transform:t.vertical?"rotate(-90)":null,"alignment-baseline":"middle","text-anchor":"middle"}},[t._v("\n          "+t._s(t.game.moveToString(e))+" ")]):t._e()])}),t._v(" "),t.isMove?n("g",[t.interactive&&!t.resizing?n("transition-group",{attrs:{name:"remove",tag:"g"}},t._l(t.stones,function(e){return n("circle",t._g({key:"s"+e.id,staticClass:"stone",class:(i={animate:t.interactive&&!t.resizing,clickable:e.tile.highlighted&&!t.waiting},i["token-"+e.data]=!0,i),style:{transform:"translate("+t.center(e.tile,"px")+")"},attrs:{r:t.game.grid.radius*t.game.grid.scale*.85-2*t.round,cx:"0",cy:"0"}},t.interactive?{click:function(){return t.move(e.tile)}}:null));var i})):n("g",t._l(t.stones,function(e){return n("circle",t._g({key:"s"+e.id,staticClass:"stone",class:(i={animate:t.interactive&&!t.resizing,clickable:e.tile.highlighted&&!t.waiting},i["token-"+e.data]=!0,i),style:{transform:"translate("+t.center(e.tile,"px")+")"},attrs:{r:t.game.grid.radius*t.game.grid.scale*.85-2*t.round,cx:"0",cy:"0"}},t.interactive?{click:function(){return t.move(e.tile)}}:null));var i}))],1):n("g",t._l(t.game.grid.tiles,function(e){return n("g",{key:"c"+e.key,attrs:{transform:"translate("+t.center(e)+")"}},[n("transition",{attrs:{name:"scale-transition"}},[e.data?n("circle",t._g({class:(i={animate:t.interactive,clickable:e.highlighted&&!t.waiting},i["token-"+e.data]=!0,i),attrs:{r:t.game.grid.radius*t.game.grid.scale*.85-2*t.round,cx:"0",cy:"0"}},t.interactive?{click:function(){return t.move(e)}}:null)):t._e()])],1);var i})),t._v(" "),t.winning?n("g-poly-line",{class:"winner-"+t.game.winner,style:{"stroke-width":Math.round(.5*(t.game.grid.radius*t.game.grid.scale*.85-2*t.round))},attrs:{tiles:t.winning,center:t.center,size:t.game.grid.scale,delay:200}}):t._e()],2)])])},[],!1,m,"data-v-29ea4dac",null);e.default=v.exports},254:function(t,e,n){var i=n(90)("wks"),r=n(80),a=n(30).Symbol,s="function"==typeof a;(t.exports=function(t){return i[t]||(i[t]=s&&a[t]||(s?a:r)("Symbol."+t))}).store=i},261:function(t,e){t.exports={}},265:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2);function r(t){return i.Theme[t.theme].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+"-theme"}},271:function(t,e,n){var i=n(43).f,r=n(77),a=n(254)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},276:function(t,e,n){"use strict";var i=n(294),r=n(32),a=n(313),s=n(76),o=n(77),c=n(261),l=n(312),u=n(271),g=n(310),d=n(254)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,m,v,p,y){l(n,e,m);var x,w,k,_=function(t){if(!f&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},b=e+" Iterator",S="values"==v,L=!1,T=t.prototype,A=T[d]||T["@@iterator"]||v&&T[v],M=!f&&A||_(v),O=v?S?_("entries"):M:void 0,z="Array"==e&&T.entries||A;if(z&&(k=g(z.call(new t)))!==Object.prototype&&k.next&&(u(k,b,!0),i||o(k,d)||s(k,d,h)),S&&A&&"values"!==A.name&&(L=!0,M=function(){return A.call(this)}),i&&!y||!f&&!L&&T[d]||s(T,d,M),c[e]=M,c[b]=h,v)if(x={values:S?M:_("values"),keys:p?M:_("keys"),entries:O},y)for(w in x)w in T||a(T,w,x[w]);else r(r.P+r.F*(f||L),e,x);return x}},281:function(t,e,n){var i=n(81),r=n(254)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:a?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},282:function(t,e,n){var i=n(281),r=n(254)("iterator"),a=n(261);t.exports=n(14).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[i(t)]}},283:function(t,e,n){"use strict";var i=n(309)(!0);n(276)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},284:function(t,e,n){n(315);for(var i=n(30),r=n(76),a=n(261),s=n(254)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<o.length;c++){var l=o[c],u=i[l],g=u&&u.prototype;g&&!g[s]&&r(g,s,l),a[l]=a.Array}},285:function(t,e,n){t.exports={default:n(316),__esModule:!0}},291:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var i=n(2);function r(t,e,n,i){return Math.min(n/t,i/e)}function a(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return void 0===t[e]&&n&&t.original?function(t,e,n){if(void 0===i.Games[t.original][e])return a(i.Games[t.original],e,n);return i.Games[t.original][e]}(t,e,n):t[e]}},292:function(t,e,n){var i=n(30).document;t.exports=i&&i.documentElement},293:function(t,e,n){var i=n(75),r=n(311),a=n(89),s=n(82)("IE_PROTO"),o=function(){},c=function(){var t,e=n(87)("iframe"),i=a.length;for(e.style.display="none",n(292).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[a[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(o.prototype=i(t),n=new o,o.prototype=null,n[s]=t):n=c(),void 0===e?n:r(n,e)}},294:function(t,e){t.exports=!0},295:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},308:function(t,e,n){var i=n(75),r=n(282);t.exports=n(14).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},309:function(t,e,n){var i=n(48),r=n(49);t.exports=function(t){return function(e,n){var a,s,o=String(r(e)),c=i(n),l=o.length;return c<0||c>=l?t?"":void 0:(a=o.charCodeAt(c))<55296||a>56319||c+1===l||(s=o.charCodeAt(c+1))<56320||s>57343?t?o.charAt(c):a:t?o.slice(c,c+2):s-56320+(a-55296<<10)+65536}}},310:function(t,e,n){var i=n(77),r=n(45),a=n(82)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},311:function(t,e,n){var i=n(43),r=n(75),a=n(51);t.exports=n(24)?Object.defineProperties:function(t,e){r(t);for(var n,s=a(e),o=s.length,c=0;o>c;)i.f(t,n=s[c++],e[n]);return t}},312:function(t,e,n){"use strict";var i=n(293),r=n(91),a=n(271),s={};n(76)(s,n(254)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),a(t,e+" Iterator")}},313:function(t,e,n){t.exports=n(76)},314:function(t,e){t.exports=function(){}},315:function(t,e,n){"use strict";var i=n(314),r=n(295),a=n(261),s=n(50);t.exports=n(276)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},316:function(t,e,n){n(284),n(283),t.exports=n(308)},317:function(t,e,n){(t.exports=n(1)(!1)).push([t.i,"circle.animate[data-v-29ea4dac],polygon.animate[data-v-29ea4dac]{transition:fill .2s ease-in-out,stroke .2s ease-in-out,stroke-width .2s ease-in-out}.stone.animate[data-v-29ea4dac]{transition:all .2s ease-in-out}.vertical[data-v-29ea4dac]{transform-origin:100% 0;transform:rotate(90deg) translateX(100%)}circle.scale-transition-enter[data-v-29ea4dac]{transform:scale(0)}circle.scale-transition-enter-active[data-v-29ea4dac]{transition:transform .4s cubic-bezier(.175,.885,.32,1.275)}circle.scale-transition-enter-to[data-v-29ea4dac]{transform:scale(1)}.remove-leave-active[data-v-29ea4dac]{transition:opacity .4s ease-out!important}.remove-leave-to[data-v-29ea4dac]{opacity:0}.remove-leave[data-v-29ea4dac]{opacity:1}.clickable[data-v-29ea4dac]:hover{cursor:pointer}.read-only[data-v-29ea4dac]{pointer-events:none;touch-action:none}",""])},318:function(t,e,n){var i=n(317);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(78).default)("ec283e36",i,!0,{})}}]);