(self.webpackJsonp=self.webpackJsonp||[]).push([[31],{348:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var s=a(26);const n={MILLISECONDS:1e3,LATENCY_DEFAULT:25,LATENCY_RATIO:2,SOUND_POLY:4,PLAYER_DRAW:-1,PLAYER_1:1,PLAYER_2:2,PAN_LEFT:-1,PAN_RIGHT:1,SOUND_CHORD_TIME:.8,SOUND_KICK_TIME:.2,SOUND_CHORD:{envelope:{attack:.01,decay:.4,sustain:.1,release:.4},oscillator:{type:"sawtooth3"},volume:-10},SOUND_FAIL_ENV:{attack:.025,decay:1.2,sustain:0,release:1},SOUND_FAIL_OSC:{type:"sawtooth",frequency:"C3",volume:-12},SOUND_TICK_ENV:{attack:.025,decay:.6,sustain:0,release:1},SOUND_TICK_OSC:{type:"sawtooth",frequency:"G3",volume:-12},SOUND_KICK_ENV:{attack:.01,decay:.4,sustain:.1,release:.4},SOUND_KICK_1:{type:"sawtooth3",frequency:"B3",volume:-12},SOUND_KICK_2:{type:"sawtooth3",frequency:"D4",volume:-12}};a.n(s)()(n)},349:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var s=a(348);const n=s.a.MILLISECONDS,i=s.a.LATENCY_DEFAULT,r=s.a.LATENCY_RATIO;const o=new class{get latency(){return isNaN(this._latency)&&(Promise.all([a.e(12),a.e(13)]).then(a.bind(null,15)).then(({Tone:t})=>{this._latency=t.supported&&!isNaN(t.context.baseLatency)?t.context.baseLatency*n*r:i}),this._latency=i),this._latency}get start(){return`+${this.latency/n}`}get stop(){return`+${this.latency/r/n}`}set last(t){this._last&&this._last.cancel&&(this._last.triggerRelease(this.stop),this._last=null),this._last=t}}},353:function(t,e,a){"use strict";a.d(e,"b",function(){return l}),a.d(e,"a",function(){return c});var s=a(349),n=a(348);const i=n.a.SOUND_TICK_ENV,r=n.a.SOUND_TICK_OSC;let o;function l(t){o&&o.cancel(t)}function c(){Promise.all([a.e(12),a.e(13)]).then(a.bind(null,15)).then(({AmplitudeEnvelope:t,Oscillator:e,Tone:a})=>{a.supported&&(o||(o=new t(i).toMaster(),new e(r).connect(o).start()),s.a.last=o,o.triggerAttack(s.a.start))})}},361:function(t,e,a){"use strict";a.d(e,"a",function(){return m});var s=a(353),n=a(349),i=a(348);const r=i.a.PAN_LEFT,o=i.a.SOUND_KICK_ENV,l=i.a.SOUND_KICK_1,c=i.a.SOUND_KICK_TIME;let u;function m(){Promise.all([a.e(12),a.e(13)]).then(a.bind(null,15)).then(({AmplitudeEnvelope:t,Oscillator:e,Panner:a,Tone:i})=>{i.supported&&(u||(u=new a(r).toMaster(),(u=new t(o).connect(u)).attackCurve="exponential",new e(l).connect(u).start()),Object(s.b)(n.a.stop),u.triggerAttackRelease(c,n.a.start))})}},362:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var s=a(2);function n(t){return s.Theme[t.theme].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+"-theme"}},384:function(t,e,a){"use strict";var s=a(96),n=a(2);function i(t,e,a){const s=t[1],n=t[2];return s&&!n&&e===(a?1:2)||!s&&n&&e===(a?2:1)}e.a={computed:{sessionHuman:function(){return{1:Object(s.b)(this.$store.state.player[1]),2:Object(s.b)(this.$store.state.player[2])}},sessionWaiting(){return!this.sessionHuman[this.game.player]&&!this.game.winner},sessionCanSwitch(){return!this.game.moves.length&&this.sessionHuman[1]&&!this.sessionHuman[2]},sessionHotSeat(){return this.sessionHuman[1]&&this.sessionHuman[2]},sessionSolo(){return this.sessionHuman[1]!==this.sessionHuman[2]},sessionRobotMatch(){return!this.sessionHuman[1]&&!this.sessionHuman[2]},sessionOther(){return 3-this.game.player},sessionHumanWin(){return i(this.sessionHuman,this.game.winner,!0)},sessionHumanLost(){return i(this.sessionHuman,this.game.winner,!1)},sessionNames(){return n.StoneNames[n.ThemeStones[this.game.constructor.theme]]},sessionSoloDraw(){return this.sessionSolo&&-1===this.game.winner},sessionTimedOut(){return this.sessionHotSeat&&this.game.expired}}}},387:function(t,e,a){"use strict";var s=a(361),n=a(353),i=a(349),r=a(348);const o=r.a.PAN_RIGHT,l=r.a.SOUND_KICK_ENV,c=r.a.SOUND_KICK_2,u=r.a.SOUND_KICK_TIME;let m;function h(){Promise.all([a.e(12),a.e(13)]).then(a.bind(null,15)).then(({AmplitudeEnvelope:t,Oscillator:e,Panner:a,Tone:s})=>{s.supported&&(m||(m=new a(o).toMaster(),(m=new t(l).connect(m)).attackCurve="exponential",new e(c).connect(m).start()),Object(n.b)(i.a.stop),m.triggerAttackRelease(u,i.a.start))})}const d=r.a.SOUND_FAIL_ENV,p=r.a.SOUND_FAIL_OSC;let v;function f(){Promise.all([a.e(12),a.e(13)]).then(a.bind(null,15)).then(({AmplitudeEnvelope:t,Oscillator:e,Tone:a})=>{a.supported&&(v||(v=new t(d).toMaster(),new e(p).connect(v).start()),i.a.last=v,v.triggerAttack(i.a.start))})}const g=r.a.SOUND_POLY,_=r.a.PLAYER_DRAW,y=r.a.PLAYER_1,w=r.a.PLAYER_2,C=r.a.SOUND_CHORD_TIME,S=r.a.SOUND_CHORD;let O;const N={[_]:["C2","E3","G3","C4"],[y]:["B2","G3","B3","D4"],[w]:["A2","F3","A3","D4"]};function b(t=y){Promise.all([a.e(12),a.e(13)]).then(a.bind(null,15)).then(({PolySynth:e,Tone:a})=>{a.supported&&(O||(O=new e(g).toMaster()).set(S),Object(n.b)(i.a.stop),O.triggerAttackRelease(N[t],C,i.a.start))})}a.d(e,"c",function(){return s.a}),a.d(e,"d",function(){return h}),a.d(e,"b",function(){return f}),a.d(e,"f",function(){return n.a}),a.d(e,"a",function(){return b}),a.d(e,"e",function(){return i.a})},396:function(t,e,a){"use strict";e.a={methods:{playerSwitch(){this.$store.commit("player",{1:this.$store.state.player[2],2:this.$store.state.player[1]})}}}},531:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".relative[data-v-04982d6e]{position:relative}.absolute[data-v-04982d6e]{position:absolute}.player[data-v-04982d6e]{will-change:transform;transition:transform .2s ease-out}.player circle[data-v-04982d6e]{transition:fill .2s linear,stroke .2s linear;will-change:fill,stroke}.player-timer[data-v-04982d6e]{stroke-dasharray:141.371;stroke-dashoffset:141.371;stroke-linecap:round;stroke-width:3;stroke:#fff;fill:none;will-change:stroke-dashoffset}.clickable[data-v-04982d6e]:hover{cursor:pointer}.count-transition-leave-active[data-v-04982d6e],.count-transition-leave-to[data-v-04982d6e],.count-transition-leave[data-v-04982d6e]{display:none;animation:none;transition:none}.count-transition-enter[data-v-04982d6e]{transform:scale(.5);opacity:.5}.count-transition-enter-active[data-v-04982d6e]{transition:opacity .2s cubic-bezier(.175,.885,.32,1.275),transform .2s cubic-bezier(.175,.885,.32,1.275);will-change:opacity,transform}.count-transition-enter-to[data-v-04982d6e]{transform:scale(1);opacity:1}.rotate-animation[data-v-04982d6e]{animation:rotate-data-v-04982d6e 2s ease-in-out infinite;will-change:transform}@keyframes rotate-data-v-04982d6e{0%{transform:rotate(0deg)}80%{transform:rotate(0deg)}to{transform:rotate(180deg)}}.theme--light .player-timer[data-v-04982d6e]{stroke:#848484}.theme--dark .player-timer[data-v-04982d6e]{stroke:#fff}.info-position[data-v-04982d6e]{top:19px;left:19px}",""])},532:function(t,e,a){var s=a(531);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(139).default)("0d13aa34",s,!0,{})},625:function(t,e,a){"use strict";a.r(e);var s=a(5),n=a(47),i=a(362),r=a(396),o=a(387),l={data:()=>({timer:-1,timerTransition:0}),watch:{"game.moves.length":function(){this.updateTimer()},"game.pending":function(){this.updateTimer()},"game.counterSignal":function(t){this.$store.state.sound&&(t>0?Object(o.f)():0===t&&Object(o.b)())}},methods:{updateTimer(){this.game.pending&&this.value===this.game.player?(this.timerTransition=0,this.timer=-1,s.a.nextTick(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.timer=0,this.timerTransition=this.game.limit})})})):(this.timer=-1,this.timerTransition=0)}}},c=a(384);const u=2*Math.PI*22.5;var m={components:{GPlayerDivider:()=>a.e(15).then(a.bind(null,624))},mixins:[c.a,r.a,l],data:()=>({Shared:n.a,OFFSET:u,starting:!0}),computed:{game:()=>n.a.game,value:()=>n.a.game.winner||n.a.game.player,other(){return n.a.game.expired?-1:3-this.value},theme:()=>Object(i.a)(n.a.game.constructor),position(){return 0===n.a.game.moves.length?-42:1===this.value?-42:2===this.value?42:0}},watch:{"game.moves.length":{immediate:!0,handler(t){t?this.starting=!1:(this.starting=!0,s.a.nextTick(()=>{requestAnimationFrame(()=>{this.starting=!1})}))}}}},h=a(93);var d=function(t){a(532)},p=Object(h.a)(m,function(){var t,e,a=this,s=a.$createElement,n=a._self._c||s;return n("div",{staticClass:"relative text-xs-center",class:a.theme,staticStyle:{width:"64px",height:"48px"}},[n("g-player-divider",{staticClass:"d-inline-block",staticStyle:{"margin-top":"19px"},attrs:{value:-1===a.game.winner?"0":"-1"}}),a._v(" "),n("div",{staticClass:"absolute player",class:"player-"+a.value,style:{transition:a.starting?"none":null,top:0,transform:"translate("+a.position+"px,0)"}},[n("div",[n("svg",{staticClass:"d-block",attrs:{height:"64",width:"64"}},[n("circle",{class:"symbol-"+a.value,style:{transition:a.starting?"none":null},attrs:{cx:"31",cy:"31",r:"16.5"}}),a._v(" "),n("circle",{staticClass:"player-timer",style:{"stroke-dashoffset":a.timer>=0?a.timer:a.OFFSET,transition:"stroke-dashoffset "+a.timerTransition+"ms linear"},attrs:{cx:"31",cy:"31",r:"22.5",transform:"rotate(-90 31 31)"}})]),a._v(" "),n("div",{staticClass:"absolute info-position"},[n("transition",{attrs:{name:"count-transition",mode:"out-in"}},[a.game.player===a.value&&a.game.counter>0?n("div",{key:a.game.counter,staticClass:"title counter",staticStyle:{width:"24px","margin-top":"2px","text-align":"center"}},[a._v(a._s(a.game.counter))]):a.game.player===a.value&&0===a.game.counter?n("v-icon",{key:a.game.counter,staticClass:"player-status"},[a._v("timer_off")]):a.sessionWaiting?n("div",{key:"b",staticStyle:{transform:"none"}},[n("div",[n("v-icon",{staticClass:"player-status rotate-animation"},[a._v("hourglass_empty")])],1)]):a.game.winner>0&&a.game.winner===a.value?n("v-icon",{key:"d",staticClass:"player-status"},[a._v("mood")]):-1===a.game.winner?n("div",{key:"e",staticClass:"player-draw-status"}):n("v-icon",{key:"c",staticClass:"player-status"},[a._v("play_arrow")])],1)],1)])]),a._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:a.sessionCanSwitch||a.game.expired,expression:"sessionCanSwitch || game.expired"}],staticClass:"absolute player",class:(t={clickable:a.sessionCanSwitch},t["player-"+a.other]=!0,t),style:{top:0,transform:"translate3d("+-a.position+"px,0,0)"},on:{click:function(t){a.sessionCanSwitch&&a.playerSwitch()}}},[n("div",[n("svg",{staticClass:"d-block",class:(e={},e[a.theme]=!0,e),attrs:{height:"64",width:"64"}},[n("circle",{class:"symbol-"+a.other,attrs:{cx:"31",cy:"31",r:"16.5"}})]),a._v(" "),n("div",{staticClass:"absolute info-position"},[a.sessionCanSwitch?n("v-icon",{staticClass:"player-status"},[a._v("swap_horiz")]):a.game.expired?n("v-icon",[a._v("timer_off")]):a._e()],1)])])],1)},[],!1,d,"data-v-04982d6e",null);e.default=p.exports}}]);