!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){!function(t){"use strict";var e;(e=t.Shape||(t.Shape={}))[e.Even=0]="Even",e[e.Odd=1]="Odd",e[e.Hexagonal=2]="Hexagonal",e[e.Triangular=3]="Triangular",e[e.Rhombus=4]="Rhombus";var n,r,i,o=Math.sqrt(3),a=Math.sqrt(3)/2,u=Math.sqrt(3)/3,s=Math.sqrt(3)/6,l=Math.sqrt(2),c=Math.sqrt(2)/2,f=Math.sqrt(2)/4,h=Math.PI/180,p=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},d=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},w=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,t),this.x=e,this.y=n}return y(t,[{key:"distance",value:function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y))/2)}},{key:"toString",value:function(){return this.value.toString()}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e)}},{key:"cubeLength",value:function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y))/2)}},{key:"value",get:function(){return[this.x,this.y]}}]),t}(),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,t),this.x=e,this.y=n}return y(t,null,[{key:"round",value:function(t){var e=Math.round(t.x),n=Math.round(t.y);return new g(e,n)}},{key:"lerp",value:function(e,n,r){return new t(e.x+(n.x-e.x)*r,e.y+(n.y-e.y)*r)}},{key:"line",value:function(e,n){for(var r=e.distance(n),i=[],o=0;o<r+1;o++)i.push(t.round(t.lerp(e,n,1/Math.max(1,r)*o)));return i}}]),y(t,[{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e)}},{key:"toString",value:function(){return this.value.toString()}},{key:"value",get:function(){return[this.x,this.y]}}]),t}(),k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;p(this,t),this.minX=0,this.maxX=0,this.minY=0,this.maxY=0,this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}return y(t,null,[{key:"add",value:function(e,n){return new t(e.minX+n.minX,e.maxX+n.maxX,e.minY+n.minY,e.maxY+n.maxY)}}]),t}();function x(t){var e=new k(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;u.x<e.minX&&(e.minX=u.x),u.x>e.maxX&&(e.maxX=u.x),u.y<e.minY&&(e.minY=u.y),u.y>e.maxY&&(e.maxY=u.y)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return e}function _(t){var e=t.tiles.map(function(e){return t.center(e)}),n=x(t.vertices(t.orientation)),r=x(e);return k.add(n,r)}(function(t){t[t.N=-1]="N",t[t.S=1]="S",t[t.W=-2]="W",t[t.E=2]="E"})(n||(n={})),function(t){t[t.N=1]="N",t[t.E=2]="E",t[t.NW=3]="NW",t[t.SW=4]="SW",t[t.S=-1]="S",t[t.W=-2]="W",t[t.SE=-3]="SE",t[t.NE=-4]="NE"}(r||(r={})),function(t){t[t.N=-1]="N",t[t.S=1]="S",t[t.NW=-2]="NW",t[t.SE=2]="SE",t[t.NE=-3]="NE",t[t.SW=3]="SW"}(i||(i={}));var O,T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;p(this,t),this.x=e,this.y=n,this.z=r}return y(t,[{key:"distance",value:function(t){return Math.floor((Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z))/2)}},{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y,this.z+e.z)}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e,this.z*e)}},{key:"toString",value:function(){return this.value.toString()}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}},{key:"round",value:function(){return new t(Math.round(this.x),Math.round(this.y),Math.round(this.z))}},{key:"cubeLength",value:function(){return Math.floor((Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z))/2)}},{key:"value",get:function(){return[this.x,this.y,this.z]}}]),t}(),j=function(t){function e(){p(this,e);var t=b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.tiles=[],t}return d(e,t),y(e,[{key:"shift",value:function(){return e.directions[4][1]}},{key:"directions",value:function(){return e.directions}},{key:"add",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t);return new e(n.x,n.y,n.z)}},{key:"scale",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"scale",this).call(this,t);return new e(n.x,n.y,n.z)}},{key:"neighbors",value:function(){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.directions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.push([u[0],this.add(u[1])])}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"right",value:function(){var t=this.x;return this.x=-this.z,this.z=-this.y,this.y=-t,this}},{key:"left",value:function(){var t=this.z;return this.z=-this.x,this.x=-this.y,this.y=-t,this}},{key:"key",get:function(){return this.toString()}}]),e}(T);j.directions=[[i.NW,new j(1,-1,0)],[i.NE,new j(1,0,-1)],[i.N,new j(0,1,-1)],[i.SE,new j(-1,1,0)],[i.SW,new j(-1,0,1)],[i.S,new j(0,-1,1)]],function(t){t[t.Simple=1]="Simple",t[t.Variable=2]="Variable"}(O||(O={}));var S=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Shape.Hexagonal,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments[4];p(this,e),this.scaleY=-1,this.angle=-30,this.tileTypes=O.Simple,this.scale=n,this.radius=a*n/2,this.orientation=r,u=u||o,this.x=o,this.y=u,this.shape=i,i===t.Shape.Even&&!1===r?(this.toTile=e.evenQToCube,this.toPoint=e.cubeToEvenQ,this.tiles=e.trapezoidalShape(0,o,0,u,this.toTile)):i===t.Shape.Even&&!0===r?(this.toTile=e.evenRToCube,this.toPoint=e.cubeToEvenR,this.tiles=e.trapezoidalShape(0,o,0,u,this.toTile)):i===t.Shape.Odd&&!1===r?(this.toTile=e.oddQToCube,this.toPoint=e.cubeToOddQ,this.tiles=e.trapezoidalShape(0,o,0,u,this.toTile)):i===t.Shape.Odd&&!0===r?(this.toTile=e.oddRToCube,this.toPoint=e.cubeToOddR,this.tiles=e.trapezoidalShape(0,o,0,u,this.toTile)):i===t.Shape.Hexagonal?(this.toTile=e.twoAxisToCube,this.toPoint=e.cubeToTwoAxis,this.tiles=e.hexagonalShape(o)):i===t.Shape.Triangular?(this.toTile=e.evenQToCube,this.toPoint=e.cubeToEvenQ,this.tiles=e.triangularShape(o)):(this.toTile=e.twoAxisToCube,this.toPoint=e.cubeToTwoAxis,this.tiles=e.trapezoidalShape(0,o,0,u,this.toTile))}return y(e,[{key:"bounds",value:function(){return _(this)}},{key:"vertices",value:function(t,e){var n=[];e=void 0===e?this.scale:e,t=void 0!==t&&this.orientation;for(var r=0;r<6;r++){var i=2*Math.PI*(2*r-(t?1:0))/12;n.push(new m(.5*e*Math.cos(i),.5*e*Math.sin(i)))}return n}},{key:"center",value:function(t){var e=this.scale/2;return(this.orientation?new m(o*t.x+a*t.z,1.5*t.z*this.scaleY):new m(1.5*t.x,(a*t.x+o*t.z)*this.scaleY)).scale(e)}},{key:"position",value:function(t){var e=this.scale/2;(t=t.scale(1/e)).y*=this.scaleY;var n=void 0,r=void 0;return this.orientation?(n=u*t.x+-1/3*t.y,r=2/3*t.y):(n=2/3*t.x,r=-1/3*t.x+u*t.y),new j(Math.round(n),Math.round(-n-r),Math.round(r))}},{key:"tile",value:function(t,e){return this.toTile?this.toTile(new g(t,e)):void 0}}],[{key:"twoAxisToCube",value:function(t){return new j(t.x,-t.y-t.x,t.y)}},{key:"cubeToTwoAxis",value:function(t){return new g(t.x,t.z)}},{key:"twoAxisToCubeXY",value:function(t){return new j(t.x,t.y,-t.x-t.y)}},{key:"cubeToTwoAxisXY",value:function(t){return new g(t.x,t.y)}},{key:"twoAxisToCubeYZ",value:function(t){return new j(-t.x-t.y,t.x,t.y)}},{key:"cubeToTwoAxisYZ",value:function(t){return new g(t.y,t.z)}},{key:"oddQToCube",value:function(t){var e=t.x,n=t.y-(t.x-(1&t.x)>>1);return new j(e,-e-n,n)}},{key:"cubeToOddQ",value:function(t){var e=t.x,n=t.z;return new g(e,n+(e-(1&e)>>1))}},{key:"evenQToCube",value:function(t){var e=t.x,n=t.y-(t.x+(1&t.x)>>1);return new j(e,-e-n,n)}},{key:"cubeToEvenQ",value:function(t){var e=t.x,n=t.z;return new g(e,n+(e+(1&e)>>1))}},{key:"oddRToCube",value:function(t){var e=t.y,n=t.x-(t.y-(1&t.y)>>1);return new j(n,-n-e,e)}},{key:"cubeToOddR",value:function(t){var e=t.x,n=t.z;return new g(e+(n-(1&n)>>1),n)}},{key:"evenRToCube",value:function(t){var e=t.y,n=t.x-(t.y+(1&t.y)>>1);return new j(n,-n-e,e)}},{key:"cubeToEvenR",value:function(t){var e=t.x,n=t.z;return new g(e+(n+(1&n)>>1),n)}},{key:"trapezoidalShape",value:function(t,e,n,r,i){for(var o=[],a=t;a<e;a++)for(var u=n;u<r;u++)o.push(i(new g(a,u)));return o}},{key:"triangularShape",value:function(t){for(var e=[],n=0;n<t;n++)for(var r=0;r<n+1;r++)e.push(new j(r,-n,n-r));return e}},{key:"hexagonalShape",value:function(t){for(var e=[],n=-t;n<t;n++)for(var r=-t;r<t;r++){var i=-n-r;Math.abs(n)<t&&Math.abs(r)<t&&Math.abs(i)<t&&e.push(new j(n,r,i))}return e}},{key:"region",value:function(t,e,n,r,i,o){for(var a=[],u=t;u<=e;u++)for(var s=Math.max(n,-u-o);s<=Math.min(r,-u-i);s++){var l=-u-s;a.push(new j(u,s,l))}return a}}]),e}();S.shapes=[t.Shape.Hexagonal,t.Shape.Rhombus,t.Shape.Even,t.Shape.Odd,t.Shape.Triangular];var E=function(t){function e(t,n,r,i,o){p(this,e);var a=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,i,o));return a.angle=0,a.radius=f*t,a}return d(e,t),y(e,[{key:"vertices",value:function(t,e){e=void 0===e?this.scale:e;for(var n=[],r=0;r<4;r++){var i=2*Math.PI*(2*r-1)/8;n.push(new m(.5*e*Math.cos(i),.5*e*Math.sin(i)))}return n}},{key:"center",value:function(t){var e=this.scale/2;return(this.orientation?new m(l*t.x+c*t.z,l*t.z*this.scaleY):new m(l*t.x,(c*t.x+l*t.z)*this.scaleY)).scale(e)}}]),e}(S),M=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.s=r,i}return d(e,t),y(e,[{key:"toString",value:function(){return this.value.toString()}},{key:"equals",value:function(t){return this.s===t.s&&v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"equals",this).call(this,t)}},{key:"shift",value:function(){return e.directions1[0][1]}},{key:"directions",value:function(){return this.s?e.directions2:e.directions1}},{key:"opposite",value:function(t){return e.opposites[this.s.toString()][t]}},{key:"add",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t);return new e(n.x,n.y,t.s)}},{key:"scale",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"scale",this).call(this,t);return new e(n.x,n.y)}},{key:"neighbors",value:function(){for(var t=[],n=0;n<3;n++)t.push([e.directions1[n][0],this.add(this.s?e.directions2[n][1]:e.directions1[n][1])]);return t}},{key:"key",get:function(){return this.toString()}},{key:"value",get:function(){return[this.x,this.y,this.s]}}]),e}(g);M.directions1=[[1,new M(0,0,!0)],[2,new M(-1,0,!0)],[3,new M(0,-1,!0)]],M.directions2=[[1,new M(0,1,!1)],[2,new M(0,0,!1)],[3,new M(1,0,!1)]],M.opposites={false:{1:3,2:1,3:2},true:{1:2,2:3,3:1}};var P=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Shape.Triangular,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;p(this,e),this.scaleY=-1,this.angle=-60,this.tileTypes=O.Variable,this.scale=n,this.radius=s*n,this.orientation=r,this.x=o,this.y=a,i===t.Shape.Rhombus?(this.tiles=this.rhombus(),this.orientation=!1):i===t.Shape.Hexagonal?(this.tiles=this.hexagonalShape(o),this.orientation=!1):(this.tiles=this.triangle(),this.orientation=!1),this.toPoint=function(t){return new g(2*t.x+(t.s?1:0),t.y)},this.toTile=function(t){return new M(t.x/2-t.x%2,t.y)}}return y(e,[{key:"bounds",value:function(){return _(this)}},{key:"center",value:function(t){return new m((2*t.x+(t.s?1:0)+t.y)*this.scale/2,this.scale*(t.y*a+(t.s?0:-s))*this.scaleY)}},{key:"vertices",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e=void 0===e?this.scale:e,(this.scaleY>0?0===n:0!==n)?[new m(0,-e*u),new m(-e/2,e*s),new m(e/2,e*s)]:[new m(0,e*(s+s)),new m(-e/2,-e*(u-s)),new m(e/2,-e*(u-s))]}},{key:"position",value:function(t){return new M(Math.round(t.x),Math.round(t.y),!1)}},{key:"getTileType",value:function(t){return t.s?0:1}},{key:"tile",value:function(t,e){}},{key:"rhombus",value:function(){for(var t=[],e=0;e<this.x;e++)for(var n=0;n<this.y;n++)t.push(new M(e,n,!1)),t.push(new M(e,n,!0));return t}},{key:"triangle",value:function(){for(var t=[],e=0;e<this.x;e++)for(var n=0;n<this.x-e;n++)t.push(new M(n,e,!1)),n<this.x-e-1&&t.push(new M(n,e,!0));return t}},{key:"hexagonalShape",value:function(t){for(var e=[],n=-t;n<t;n++)for(var r=-t;r<t;r++)Math.abs(-n-r)<=t&&n+r<t&&e.push(new M(n,r,!1)),Math.abs(-n-r)-1<=t&&n+r+1<t&&e.push(new M(n,r,!0));return e}}]),e}();P.shapes=[t.Shape.Hexagonal,t.Shape.Rhombus,t.Shape.Triangular];var R=function(){function t(e,n,r){p(this,t),this.x=e,this.y=n,this.z=r}return y(t,null,[{key:"round",value:function(t){var e=Math.round(t.x),n=Math.round(t.y),r=Math.round(t.z),i=Math.abs(e-t.x),o=Math.abs(n-t.y),a=Math.abs(r-t.z);return i>o&&i>a?e=-n-r:o>a?n=-e-r:r=-e-n,new T(e,n,r)}},{key:"lerp",value:function(e,n,r){return new t(e.x+(n.x-e.x)*r,e.y+(n.y-e.y)*r,e.z+(n.z-e.z)*r)}},{key:"line",value:function(e,n){for(var r=e.distance(n),i=[],o=0;o<r+1;o++)i.push(t.round(t.lerp(e,n,1/Math.max(1,r)*o)));return i}}]),y(t,[{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}},{key:"toString",value:function(){return this.value.toString()}},{key:"round",value:function(){return t.round(this)}},{key:"value",get:function(){return[this.x,this.y,this.z]}}]),t}(),C=function(t){function e(){p(this,e);var t=b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.tiles=[],t}return d(e,t),y(e,[{key:"shift",value:function(){return new e(-1,1,0)}},{key:"directions",value:function(){return e.directions}},{key:"add",value:function(t){var n=this.z||t.z,r=this.x+t.x;return new e(r=((r%=n)+n)%n,this.y+t.y,n)}},{key:"scale",value:function(t){return new e(this.x,this.y*t,this.z)}},{key:"cubeLength",value:function(){return Math.floor(Math.abs(this.y))}},{key:"neighbors",value:function(){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.directions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.push([u[0],this.add(u[1])])}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"value",get:function(){return[this.x,this.y]}},{key:"key",get:function(){return this.toString()}}]),e}(T);C.directions=[[n.N,new C(0,-1,0)],[n.S,new C(0,1,0)],[n.E,new C(1,0,0)],[n.W,new C(-1,0,0)]];var G=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Shape.Even,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:C,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;p(this,e),this.scaleY=-1,this.angle=-0,this.tileTypes=O.Simple,this.irregular=!0,this.scale=n,this.radius=n/2,this.orientation=r,this.x=i,this.y=o,this.startY=s,this.tileCtor=u;for(var l=[],c=0;c<i;c++)for(var f=s;f<o;f++)l.push(new u(c,f,i));this.tiles=l,this.toTile=function(t){return new a.tileCtor(t.x,t.y)},this.toPoint=function(t){return new g(t.x,t.y)}}return y(e,[{key:"bounds",value:function(){var t=this.scale*this.y;return new k(-t,t,-t,t)}},{key:"vertices",value:function(t,e,n,r){var i=r,o=[],a=this.center(i);return o.push(this.center(new R(i.x-.5,i.y-.5,i.z))),o.push(this.center(new R(i.x+.5,i.y-.5,i.z))),o.push(this.center(new R(i.x+.5,i.y+.5,i.z))),o.push(this.center(new R(i.x-.5,i.y+.5,i.z))),o.map(function(t){return new m(t.x-a.x,t.y-a.y)})}},{key:"path",value:function(t){var e=this.vertices(!1,0,0,t),n=(this.center(t),this.scale*t.y),r=this.scale*(t.y+1);return"M "+e[0].x+" "+e[0].y+" A "+n+" "+n+" 0 0 0 "+e[1].x+" "+e[1].y+" L "+e[2].x+" "+e[2].y+" A "+r+" "+r+" 0 0 1 "+e[3].x+" "+e[3].y+" Z"}},{key:"position",value:function(t){return new this.tileCtor(Math.round(t.x/this.scale),Math.round(t.y/this.scale*this.scaleY))}},{key:"tile",value:function(t,e){return this.toTile(new g(t,e))}},{key:"center",value:function(t){var e=void 0;return this.orientation?(e=t.x+.5,e=(e=((e%=t.z)+t.z)%t.z)*h*(360/t.z)):e=t.x*h*(360/t.z),new m((t.y+.5)*this.scale*Math.sin(e),(t.y+.5)*this.scale*Math.cos(e))}}]),e}(),z=function(t){function e(){return p(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),y(e,[{key:"shift",value:function(){return new e(-1,1)}},{key:"directions",value:function(){return e.directions}},{key:"add",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t);return new e(n.x,n.y)}},{key:"scale",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"scale",this).call(this,t);return new e(n.x,n.y)}},{key:"neighbors",value:function(){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.directions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.push([u[0],this.add(u[1])])}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"key",get:function(){return this.toString()}}]),e}(g);z.directions=[[n.N,new z(0,-1)],[n.E,new z(1,0)],[n.S,new z(0,1)],[n.W,new z(-1,0)]];var H=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.Shape.Even,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:z,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;p(this,e),this.scaleY=-1,this.angle=-45,this.tileTypes=O.Simple,this.scale=n,this.radius=n/2,this.orientation=r,this.x=i,this.y=o,this.startY=o,this.tileCtor=u;for(var l=[],c=0;c<i;c++)for(var f=s;f<o;f++)l.push(new u(c,f));this.tiles=l,this.toTile=function(t){return new a.tileCtor(t.x,t.y)},this.toPoint=function(t){return new g(t.x,t.y)}}return y(e,[{key:"bounds",value:function(){return _(this)}},{key:"center",value:function(t){return this.orientation?new m(t.x*this.scale/l+t.y*this.scale*this.scaleY/l,t.y*this.scale*this.scaleY/l-t.x*this.scale/l):new m(t.x*this.scale,t.y*this.scale*this.scaleY)}},{key:"vertices",value:function(t,e){var n=[];return e=void 0===e?this.scale:e,(t=void 0!==t&&this.orientation)?(e*=l,n.push(new m(-e/2,0)),n.push(new m(0,-e/2)),n.push(new m(e/2,0)),n.push(new m(0,e/2))):(n.push(new m(-e/2,-e/2)),n.push(new m(-e/2,e/2)),n.push(new m(e/2,e/2)),n.push(new m(e/2,-e/2))),n}},{key:"position",value:function(t){return new this.tileCtor(Math.round(t.x/this.scale),Math.round(t.y/this.scale*this.scaleY))}},{key:"tile",value:function(t,e){return this.toTile(new g(t,e))}}]),e}(),N=function(t){function e(){p(this,e);var t=b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.tiles=[],t}return d(e,t),y(e,[{key:"shift",value:function(){return new e(-1,1,0)}},{key:"directions",value:function(){return e.directions}},{key:"add",value:function(t){var n=this.z||t.z,r=this.x+t.x;return new e(r=((r%=n)+n)%n,this.y+t.y,n)}},{key:"scale",value:function(t){return new e(this.x,this.y*t,this.z)}},{key:"cubeLength",value:function(){return Math.floor(Math.abs(this.y))}},{key:"neighbors",value:function(){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.directions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.push([u[0],this.add(u[1])])}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"value",get:function(){return[this.x,this.y]}},{key:"key",get:function(){return this.toString()}}]),e}(T);N.directions=[[r.N,new N(0,-1,0)],[r.E,new N(1,0,0)],[r.NW,new N(-1,-1,0)],[r.SW,new N(1,-1,0)],[r.S,new N(0,1,0)],[r.W,new N(-1,0,0)],[r.SE,new N(1,1,0)],[r.NE,new N(-1,1,0)]];var I=function(t){function e(){return p(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),y(e,[{key:"shift",value:function(){return new e(-1,1)}},{key:"directions",value:function(){return e.directions}},{key:"sides",value:function(){return e.sides}},{key:"add",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t);return new e(n.x,n.y)}},{key:"scale",value:function(t){var n=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"scale",this).call(this,t);return new e(n.x,n.y)}},{key:"neighbors",value:function(){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e.directions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;t.push([u[0],this.add(u[1])])}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"sideNeighbors",value:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,o=z.directions[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.push([a[0],this.add(a[1])])}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return t}},{key:"key",get:function(){return this.toString()}}]),e}(g);function A(t){return new t.constructor}function Y(t,e){return e.filter(function(e){return t.has(e[1].key)}).map(function(e){return[e[0],t.get(e[1].key)]})}function W(t){return new Map(t.map(function(t){return[t.key,t]}))}I.directions=[[r.N,new I(0,-1)],[r.E,new I(1,0)],[r.NW,new I(-1,-1)],[r.SW,new I(1,-1)],[r.S,new I(0,1)],[r.W,new I(-1,0)],[r.SE,new I(1,1)],[r.NE,new I(-1,1)]],I.sides=[I.directions[0],I.directions[1],I.directions[4],I.directions[5]];var F=function(){function t(e,n,r,i,o){p(this,t),this.cost={},this.previous={},this.max=0;var a=e.value?[e]:e;this.start=a[0];var u=i?W(i):void 0,s=o?W(o):void 0,l=!0,c=!1,f=void 0;try{for(var h,y=a[Symbol.iterator]();!(l=(h=y.next()).done);l=!0){var v=h.value;this.cost[v.key]=0,this.previous[v.key]=null}}catch(t){c=!0,f=t}finally{try{!l&&y.return&&y.return()}finally{if(c)throw f}}for(var d=[a],b=0;b<n&&d[b].length>0;b++){d[b+1]=[];var w=!0,g=!1,m=void 0;try{for(var k,x=d[b][Symbol.iterator]();!(w=(k=x.next()).done);w=!0){var _=k.value,O=_.neighbors(),T=!0,j=!1,S=void 0;try{for(var E,M=O[Symbol.iterator]();!(T=(E=M.next()).done);T=!0){var P=E.value,R=P[1];s&&!s.has(R.key)||void 0===this.cost[R.key]&&(u&&!u.has(R.key)||!i)&&R.cubeLength()<=r&&(this.cost[R.key]=b+1,this.max=Math.max(this.max,b+1),this.previous[R.key]=_,d[b+1].push(R))}}catch(t){j=!0,S=t}finally{try{!T&&M.return&&M.return()}finally{if(j)throw S}}}}catch(t){g=!0,m=t}finally{try{!w&&x.return&&x.return()}finally{if(g)throw m}}}}return y(t,[{key:"path",value:function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.value?[t]:t,i=(n?Math.max:Math.min).apply(null,r.map(function(t){return e.cost[t.key]}).filter(function(t){return void 0!==t})),o=[],a=r.find(function(t){return e.cost[t.key]===i})||null;a;)o.push(a),a=a.equals(this.start)?null:this.previous[a.key];return o}}]),t}();function q(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];n&&r.push(t.add(A(t)));for(var i=t.sideNeighbors?t.sideNeighbors():t.neighbors(),o=6===i.length?1:2,a=n?1:e;a<=e;a++)for(var u=t.shift().scale(a),s=0;s<i.length;s++)for(var l=0;l<a*o;l++)r.push(u.add(t)),u=(u.sideNeighbors?u.sideNeighbors():u.neighbors())[s][1];return r}t.BrickGrid=E,t.HexagonalGrid=S,t.TriangularGrid=P,t.RadialGrid=G,t.RectangularGrid=H,t.Position=g,t.HexagonalTile=j,t.Radial8Tile=N,t.RadialTile=C,t.Rectangular8Tile=I,t.RectangularTile=z,t.TriangularTile=M,t.Float2=m,t.Float3=R,t.Integer2=g,t.Integer3=T,t.Search=F,t.normalize=function(t){var e=function(t){var e=t.tiles.map(function(e){return t.toPoint(e)});return new g(Math.min.apply(null,e.map(function(t){return t.x})),Math.min.apply(null,e.map(function(t){return t.y})))}(t);e.x=-e.x,e.y=-e.y,t.tiles=t.tiles.map(function(n){return t.toTile?t.toTile(t.toPoint(n).add(e)):[]})},t.translate=function(t,e){t.tiles=t.tiles.map(function(n){return t.toTile?t.toTile(t.toPoint(n).add(e)):[]})},t.rotate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.tiles.forEach(function(t){for(var n=e;n>0;)t.right(),n--;for(;n<0;)t.left(),n++})},t.enumerate=function(t){var e={},n=Object.keys(t),r=!0,i=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,l=parseInt(s,10);l>=0&&(e[t[s]]=l)}}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e},t.instance=A,t.toMap=W,t.toArray=function(t){return Array.from(t.values())},t.link=function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t.values()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;a.links=new Map;var u=!0,s=!1,l=void 0;try{for(var c,f=a.neighbors()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;t.has(h[1].key)&&a.links.set(h[0],t.get(h[1].key))}}catch(t){s=!0,l=t}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}},t.axes=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=!0,o=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,c=l.value,f=Math.abs(c[e%c.length])%2==1;f===n&&r.push(l)}}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return r},t.intersect=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,l=!0,c=!1,f=void 0;try{for(var h,p=e[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value;s.equals(y)&&n.push(s)}}catch(t){c=!0,f=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}}}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n},t.circle=function(t,e){return q(t,e,!1)},t.spiral=q,t.border=function(t){var e=W(t);return t.filter(function(t){return Y(e,t.neighbors()).length<t.directions().length})},t.outline=function(t,e){var n=new Map,r=W(t),i=e?W(e):void 0;return t.forEach(function(t){var e=new Map(Y(r,t.neighbors())),o=new Map(t.directions());if(e.size<o.size){var a=!0,u=!1,s=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value,h=w(f,2),p=h[0],y=h[1];if(!e.has(p)){var v=t.add(y);i?n.set(v.key,i.get(v.key)):n.set(v.key,v)}}}catch(t){u=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(u)throw s}}}}),Array.from(n.values())},t.connections=function(t){var e=[],n=W(t),r=function(t){var r=new Map(Y(n,t.neighbors())),i=Array.from(r.keys()).filter(function(e){return e>0&&!r.has(t.opposite?t.opposite(e):-e)}),o=!0,a=!1,u=void 0;try{for(var s,l=i[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){for(var c=s.value,f=[],h=t;h;)f.push(h),h=new Map(Y(n,h.neighbors())).get(c);e.push(f)}}catch(t){a=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}},i=!0,o=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;r(l)}}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return e},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(14),i=n(13),o=n(11),a=Object.defineProperty;e.f=n(2)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports={default:n(22),__esModule:!0}},function(t,e,n){"use strict";n.r(e);var r={};n.d(r,"TicTacToeGame",function(){return m}),n.d(r,"CircularTicTacToeGame",function(){return k}),n.d(r,"TacTickleGame",function(){return T}),n.d(r,"TacTickle4Game",function(){return j}),n.d(r,"HexTacTickleGame",function(){return S}),n.d(r,"Hex2TacTickleGame",function(){return E}),n.d(r,"CircularTacTickleGame",function(){return M}),n.d(r,"GomokuGame",function(){return C}),n.d(r,"Gomoku7Game",function(){return G}),n.d(r,"Gomoku9Game",function(){return z}),n.d(r,"Gomoku11Game",function(){return H}),n.d(r,"HexGomokuGame",function(){return N}),n.d(r,"ConnectFourGame",function(){return A}),n.d(r,"FourInARow11Game",function(){return Y}),n.d(r,"CircularFourInARowGame",function(){return W}),n.d(r,"ReversiGame",function(){return V}),n.d(r,"Reversi4Game",function(){return D}),n.d(r,"Reversi6Game",function(){return X}),n.d(r,"Reversi10Game",function(){return L}),n.d(r,"OthelloGame",function(){return B}),n.d(r,"Othello4Game",function(){return Q}),n.d(r,"HexReversiGame",function(){return U}),n.d(r,"HexReversi4Game",function(){return J}),n.d(r,"HexGame",function(){return tt}),n.d(r,"Hex5Game",function(){return et}),n.d(r,"Hex6Game",function(){return nt}),n.d(r,"Hex9Game",function(){return rt}),n.d(r,"Hex11Game",function(){return it}),n.d(r,"Hex13Game",function(){return ot}),n.d(r,"Hex14Game",function(){return at}),n.d(r,"CatchTheHareGame",function(){return lt}),n.d(r,"AlquerqueGame",function(){return ft}),n.d(r,"CzechCheckersGame",function(){return yt}),n.d(r,"InternationalCheckersGame",function(){return vt}),n.d(r,"HexCheckCheckersGame",function(){return dt}),n.d(r,"NineMensMorrisGame",function(){return gt}),n.d(r,"TwelveMensMorrisGame",function(){return mt}),n.d(r,"SixMensMorrisGame",function(){return kt}),n.d(r,"ThreeMensMorrisGame",function(){return xt}),n.d(r,"ThreeDiagonalMensMorrisGame",function(){return _t});var i={};n.d(i,"AlphaBetaPlayer",function(){return Tt}),n.d(i,"RandomPlayer",function(){return St}),n.d(i,"UctPlayer",function(){return Rt}),n.d(i,"UctCachedPlayer",function(){return It}),n.d(i,"MinimaxPlayer",function(){return R});var o=n(8),a=n.n(o),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e}u(t,[{key:"possible",value:function(){return this.game.possible()}},{key:"undo",value:function(){return this.game.undo()}},{key:"move",value:function(t){return this.game.move(t)}},{key:"evaluate",value:function(){return this.game.evaluate()}},{key:"moves",get:function(){return this.game.moves}},{key:"player",get:function(){return this.game.player}},{key:"winner",get:function(){return this.game.winner}}])}();var s=n(0),l="pass";function c(t){if(t===l)return null;var e=t.replace(/([a-z])([0-9])/g,"$1,$2").split(",");return e[0]=parseInt(e[0],36)-10,e[1]=parseInt(e[1],10)-1,e}function f(t){return String.fromCharCode(t.x+97)+(t.y+1)}function h(t){return t%2+1}function p(t){return Object(s.rotate)(t,-1),t.toPoint=s.HexagonalGrid.cubeToTwoAxisYZ,t.toTile=s.HexagonalGrid.twoAxisToCubeYZ,Object(s.normalize)(t),t}new Map([[s.RectangularGrid,"Rectangular"],[s.HexagonalGrid,"Hexagonal"],[s.RadialGrid,"Radial"]]);var y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.limit=1e4,this.countdown=5,this.countdownSignal=3,this.signalDelay=100,this.counter=-1,this.counterSignal=-1,this.expired=!1,this.pending=!1,this.timer=null,this.timeoutWinner=null,this.game=e,this.constructor=e.constructor,Object.assign(this,n),this.game.winning&&(this.winning=this.game.winning.bind(this.game)),this.game.links&&(this.links=this.game.links.bind(this.game)),this.game.rulers&&(this.rulers=this.game.rulers.bind(this.game))}y(t,[{key:"dispose",value:function(){this.stop()}},{key:"possible",value:function(){return this.game.possible()}},{key:"undo",value:function(){return this.game.undo()}},{key:"move",value:function(t){this.game.move(t),this.game.winner?(this.stop(),this.counter=-1,this.counterSignal=-1,this.expired=!1):this.start()}},{key:"evaluate",value:function(){return this.game.evaluate()}},{key:"moveToString",value:function(t){return this.game.moveToString(t)}},{key:"stringToMove",value:function(t){return this.game.stringToMove(t)}},{key:"start",value:function(){var t=this;if(this.stop(!!this.limit),this.counter=-1,this.counterSignal=-1,this.expired=!1,this.timeoutWinner=null,this.limit){var e=this.countdown;this.timer=setInterval(function(){t.stop(!0),t.counter=e,t.timer=setInterval(function(){--e<=t.countdownSignal&&(t.counterSignal=e),setTimeout(function(){t.counter=e,e||(t.stop(),t.expired=!0,t.timeoutWinner=h(t.game.player))},t.signalDelay)},1e3)},this.limit-1e3*e-this.signalDelay)}}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pending=t,this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"grid",get:function(){return this.game.grid}},{key:"scale",get:function(){return this.game.scale}},{key:"moves",get:function(){return this.game.moves}},{key:"player",get:function(){return this.game.player}},{key:"winner",get:function(){return this.timeoutWinner||this.game.winner}},{key:"score",get:function(){return this.game.score}},{key:"landscape",get:function(){return this.game.landscape}}])})(),"function"==typeof Symbol&&Symbol.iterator;function v(t,e,n){var r=0,i=!0,o=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value,c=[],f=!0,h=!1,p=void 0;try{for(var y,v=l.links[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var d=y.value;if(d[0]>0){var b=d[1],w=l.links.get(l.opposite?l.opposite(d[0]):-d[0]);w&&w.data===n||b.data!==n||c.push(d[0])}}}catch(t){h=!0,p=t}finally{try{!f&&v.return&&v.return()}finally{if(h)throw p}}if(c.length){var g=!0,m=!1,k=void 0;try{for(var x,_=c[Symbol.iterator]();!(g=(x=_.next()).done);g=!0){for(var O=x.value,T=[],j=l;j&&(T.push(j),(j=j.links.get(O))&&j.data===n););var S=0;(j=T[0].links.get(-O))&&!j.data&&S++,(j=T[T.length-1].links.get(O))&&!j.data&&S++,!S&&T.length<e||(r+=Math.pow(e,T.length+1+(T.length>=e?1:0))-Math.pow(e,T.length)*(2-S))}}catch(t){m=!0,k=t}finally{try{!g&&_.return&&_.return()}finally{if(m)throw k}}}else{var E=0,M=!0,P=!1,R=void 0;try{for(var C,G=l.links.values()[Symbol.iterator]();!(M=(C=G.next()).done);M=!0){C.value.data||E++}}catch(t){P=!0,R=t}finally{try{!M&&G.return&&G.return()}finally{if(P)throw R}}r+=E/8}}}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return r}function d(t,e,n){var r={},i=!0,o=!1,a=void 0;try{for(var u,s=t.links[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;if(!r[-l[0]]){r[-l[0]]=!0;for(var c=l[1],f=1;c&&c.data===e;)f++,c=(c=c.links.get(l[0]))!==t&&c;for(c=t.links.get(-l[0]);c&&c.data===e;)f++,c=(c=c.links.get(-l[0]))!==t&&c;if(f>=n)return!0}}}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}function b(t,e,n){var r={},i=!0,o=!1,a=void 0;try{for(var u,s=t.links[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;if(!r[-l[0]]){var c=[t];r[-l[0]]=!0;for(var f=l[1],h=1;f&&f.data===e;)c.push(f),h++,f=(f=f.links.get(l[0]))!==t&&f;for(f=t.links.get(-l[0]);f&&f.data===e;)c.unshift(f),h++,f=(f=f.links.get(-l[0]))!==t&&f;if(h>=n)return c}}}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}var w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var g=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moves=[],this.player=1,this.winner=0,this.finished=!1,this.playerTiles={},this.grid=e,this.min=n,this.tilesMap=Object(s.toMap)(this.grid.tiles),this.freeTilesMap=Object(s.toMap)(this.grid.tiles),Object(s.link)(this.tilesMap)}return w(t,[{key:"moveToString",value:function(t){return t?f(this.grid.toPoint(t)):"pass"}},{key:"stringToMove",value:function(t){var e=c(t);if(!e)return e;var n=this.grid.tile.apply(this.grid,e);return this.tilesMap.get(n.key)}},{key:"init",value:function(t){var e=function(t){var e=[],n=t.replace(/[^0-9a-z]+/,"").replace(/([0-9])([a-z])/g,"$1,$2").split(","),r=!0,i=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;e.push(c(s))}}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e}(t),n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;this.move(this.tilesMap.get(this.grid.tile(u[0],u[1]).key))}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:"possible",value:function(){return this.finished?[]:Object(s.toArray)(this.freeTilesMap)}},{key:"undo",value:function(){var t=this.moves.pop();t.data=null,this.freeTilesMap.set(t.key,t),this.player=h(this.player),this.finished=!1,this.winner=0,this.playerTiles[this.player].pop()}},{key:"move",value:function(t){t.data=this.player,(this.playerTiles[this.player]||(this.playerTiles[this.player]=[])).push(t),this.player=this.player%2+1,this.moves.push(t),this.freeTilesMap.delete(t.key),this.winner=this.getWinner(),(this.moves.length===this.grid.tiles.length||this.winner)&&(this.finished=!0)}},{key:"evaluate",value:function(){return v(this.playerTiles[this.player]||[],this.min,this.player)-v(this.playerTiles[h(this.player)]||[],this.min,h(this.player))*this.min}},{key:"getWinner",value:function(){return d(this.moves[this.moves.length-1],h(this.player),this.min)?h(this.player):this.moves.length===this.grid.tiles.length?-1:0}},{key:"winning",value:function(){var t=this.moves[this.moves.length-1];return b(t,t.data,this.min)}}]),t}();var m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,3,3,s.Rectangular8Tile),3))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();m.title="Tic Tac Toe",m.type="Connect",m.aliases=["Noughts and Crosses","Xs and Os","Exy-ozys"],m.created=-1300,m.location="Egypt",m.wiki="https://en.wikipedia.org/wiki/Tic-tac-toe",m.rules=["Connect 3"];var k=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new s.RadialGrid(1,!0,s.Shape.Even,3,4,s.Radial8Tile,1);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,3))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();k.title="Circular Tic Tac Toe",k.type="Connect",k.original="TicTacToeGame";var x=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var O=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments[2],i=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moves=[],this.player=1,this.winner=0,this.playerTiles={1:[],2:[]},this.finished=!1,this.grid=e,this.tileMap=Object(s.toMap)(e.tiles),Object(s.link)(this.tileMap),this.min=n,this.init(i),this.directions=r.map(function(t){return x(t,1)[0]})}return _(t,[{key:"moveToString",value:function(t){if(!t)return"pass";var e=t.map(this.grid.toPoint);return e.map(f).join("-")}},{key:"stringToMove",value:function(t){var e,n=this,r=(e=t)===l?null:e.split("-").map(c);return r?r.map(function(t){var e=n.grid.tile.apply(n.grid,t);return n.tileMap.get(e.key)}):r}},{key:"possible",value:function(){var t=this;return this.finished?[]:this.grid.tiles.reduce(function(e,n){if(n.data!==t.player)return e;var r=!0,i=!1,o=void 0;try{for(var a,u=n.links[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,l=x(s,2),c=l[0],f=l[1];!f.data&&t.directions.indexOf(c)>-1&&e.push([n,f])}}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return e},[])}},{key:"move",value:function(t){t[1].data=t[0].data,t[0].data=null,this.player=h(this.player),this.moves.push(t),d(t[1],t[1].data,this.min)?(this.finished=!0,this.winner=t[1].data):this.moves.length===2*this.grid.tiles.length&&(this.finished=!0,this.winner=-1)}},{key:"undo",value:function(){var t=this.moves.pop();t[0].data=t[1].data,t[1].data=null,this.player=h(this.player%2),this.finished=!1,this.winner=0}},{key:"evaluate",value:function(){throw new Error("Method not implemented.")}},{key:"winning",value:function(){var t=this.moves[this.moves.length-1];return b(t[1],t[1].data,this.min)}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[0,0,1],[0,this.grid.y-1,0]],e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)for(var a=i.value,u=x(a,3),s=u[0],l=u[1],c=u[2],f=s;f<s+4;f++){var h=this.tileMap.get(this.grid.tile(f,l).key),p=(f+c)%2+1;h&&(h.data=p)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}}]),t}();O.move=!0;var T=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,4,5,s.Rectangular8Tile),3,s.RectangularTile.directions))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,O),e}();T.title="Tac-tickle",T.type="Move to Connect",T.authors=["NRICH"],T.source="https://nrich.maths.org/1240",T.created="2000",T.rules=["Move to connect 3"];var j=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,4,4,s.Rectangular8Tile),3,s.RectangularTile.directions))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,O),e}();j.title="Tac-tickle 4x4",j.type="Move to Connect",j.aliases="Tic-tackle",j.original="TacTickleGame";var S=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.HexagonalGrid(1,!0,s.Shape.Even,4,5),3,s.HexagonalTile.directions))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,O),e}();S.title="Hex Tac-tickle",S.type="Move to Connect",S.original="TacTickleGame";var E=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new s.HexagonalGrid(1,!0,s.Shape.Hexagonal,4);return Object(s.normalize)(t),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,3,s.HexagonalTile.directions,[[3,0,0],[0,6,0]]))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,O),e}();E.title="Hex2 Tac-tickle",E.type="Move to Connect",E.original="TacTickleGame";var M=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RadialGrid(1,!1,s.Shape.Even,4,5,s.Radial8Tile,1),3,s.RadialTile.directions,[[0,1,1],[0,4,0]]))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,O),e}();M.title="Circular Tac-tickle",M.type="Move to Connect",M.original="TacTickleGame";var P=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count=0,this.depth=0,this.depth=e}return P(t,[{key:"select",value:function(t){return{move:this.move(t,this.depth),count:this.count}}},{key:"move",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.count=0;var r=t.possible(),i=-1/0,o=void 0,a=!0,u=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;t.move(f);var h=this.minimax(e-1,t,!n);t.undo(),h>i&&(i=h,o=f)}}catch(t){u=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(u)throw s}}return o}},{key:"minimax",value:function(t,e,n){if(this.count++,0===t)return e.evaluate();var r=e.possible();if(n){var i=-1/0,o=!0,a=!1,u=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;e.move(c),i=Math.max(i,this.minimax(t-1,e,!n)),e.undo()}}catch(t){a=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}return i}var f=1/0,h=!0,p=!1,y=void 0;try{for(var v,d=r[Symbol.iterator]();!(h=(v=d.next()).done);h=!0){var b=v.value;e.move(b),f=Math.min(f,this.minimax(t-1,e,!n)),e.undo()}}catch(t){p=!0,y=t}finally{try{!h&&d.return&&d.return()}finally{if(p)throw y}}return f}}]),t}();var C=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,15,15,s.Rectangular8Tile),5))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();C.title="Gomoku",C.type="Connect",C.wiki="https://en.wikipedia.org/wiki/Gomoku",C.location="Japan",C.created=990,C.rules=["Connect 5"],C.player=function(){return new R(2)};var G=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,7,7,s.Rectangular8Tile),5))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();G.title="Gomoku 7x7",G.type="Connect",G.original="GomokuGame",G.player=function(){return new R(2)};var z=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,9,9,s.Rectangular8Tile),5))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();z.title="Gomoku 9x9",z.type="Connect",z.original="GomokuGame",z.player=function(){return new R(2)};var H=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,11,11,s.Rectangular8Tile),5))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();H.title="Gomoku 11x11",H.type="Connect",H.original="GomokuGame",H.player=function(){return new R(2)};var N=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new s.HexagonalGrid(1,!0,s.Shape.Even,15);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,5))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();N.title="Hex Gomoku",N.type="Connect",N.original="GomokuGame",N.player=function(){return new R(2)};var I=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var A=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,7,6,s.Rectangular8Tile),4));return t.landscape=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),I(e,[{key:"possible",value:function(){if(this.finished)return[];for(var t=[],e=0;e<this.grid.x;e++)for(var n=0;n<this.grid.y;n++){var r=this.tilesMap.get([e,n].toString());if(!r.data){t.push(r);break}}return t}}]),e}();A.title="Connect Four",A.type="Connect",A.authors=["Howard Wexler","Ned Strongin"],A.created=1974,A.wiki="https://en.wikipedia.org/wiki/Connect_Four",A.alias=["Captain's Mistress","Four Up","Plot Four","Find Four","Four in a Row","Four in a Line","Gravitrips"],A.rules=["Connect 4"];var Y=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new s.RectangularGrid(1,void 0,s.Shape.Even,11,11,s.Rectangular8Tile);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,4))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();Y.title="Four-in-a-row",Y.type="Connect",Y.rules=["Connect 4"],Y.wiki="https://en.wikipedia.org/wiki/M,n,k-game",Y.player=function(){return new R(2)};var W=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=new s.RadialGrid(1,!1,s.Shape.Even,12,8,s.Radial8Tile,2);return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,4))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,g),e}();W.title="Circular Four-in-a-row",W.type="Connect",W.rules=["Connect 4"],W.original="TicTacToeGame";var F=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var q=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=1,this.moves=[],this.score={1:0,2:0},this.winner=0,this.finished=!1,this.history=[],this.grid=e,this.tilesMap=Object(s.toMap)(e.tiles);var i=Math.floor(e.x/2-.5),o=Math.ceil(e.x/2-.5),a=Math.floor(e.y/2-.5),u=Math.ceil(e.y/2-.5);this.center=[this.tilesMap.get(e.tile(i,a).key),this.tilesMap.get(e.tile(i,u).key),this.tilesMap.get(e.tile(o,u).key),this.tilesMap.get(e.tile(o,a).key)],this.empty=Object(s.toMap)(this.grid.tiles),Object(s.link)(this.tilesMap),r&&this.center.forEach(function(t){return n.move(t,!0)}),this.updatePossible()}return F(t,[{key:"moveToString",value:function(t){return t?f(this.grid.toPoint(t)):"pass"}},{key:"stringToMove",value:function(t){var e=c(t);if(!e)return e;var n=this.grid.tile.apply(this.grid,e);return this.tilesMap.get(n.key)}},{key:"possible",value:function(){return this.knownPossible}},{key:"updatePossible",value:function(){this.knownPossible=this.possibleFor(this.player),this.knownPossible.length||(this.possibleFor(this.player%2+1).length?this.move(null):this.finished=!0)}},{key:"possibleFor",value:function(t){var e=[];if(this.grid.tiles.length-this.empty.size<4)return this.center.filter(function(t){return!t.data});var n=!0,r=!1,i=void 0;try{for(var o,a=this.empty.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=!0,l=!1,c=void 0;try{for(var f,h=u.links.keys()[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){for(var p=f.value,y=u.links.get(p),v=0;y&&y.data&&y.data!==t;)v++,y=y.links.get(p);if(v&&y&&y.data===t){e.push(u);break}}}catch(t){l=!0,c=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return e}},{key:"undo",value:function(){var t=this.moves.pop();if(this.finished=!1,this.winner=0,!t)return this.player=h(this.player),this.history.pop(),void this.undo();this.score[t.data]--,t.data=null,this.empty.set(t.key,t);var e=this.history.pop();for(var n in this.player=this.player%2+1,e)if(e.hasOwnProperty(n)){var r=this.tilesMap.get(n);this.score[r.data]--,r.data=e[n],this.score[r.data]++}this.updatePossible()}},{key:"move",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.player=this.player%2+1,this.moves.push(t),this.history.push({}),this.updatePossible(),void(this.winner=this.getWinner());if(t.data=this.player,this.score[this.player]=this.score[this.player]||0,this.score[this.player]++,this.player=this.player%2+1,this.empty.delete(t.key),!e){this.moves.push(t);var n={},r=!0,i=!1,o=void 0;try{for(var a,u=t.links.keys()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){for(var s=a.value,l=t.links.get(s),c=[];l&&l.data&&l.data!==t.data;)c.push(l),l=l.links.get(s);if(l&&l.data===t.data){var f=!0,h=!1,p=void 0;try{for(var y,v=c[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var d=y.value;n[d.key]=d.data,this.score[d.data]--,this.score[t.data]++,d.data=t.data}}catch(t){h=!0,p=t}finally{try{!f&&v.return&&v.return()}finally{if(h)throw p}}}}}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}this.history.push(n),this.updatePossible(),this.winner=this.getWinner()}}},{key:"evaluate",value:function(){return-this.score[this.player]+this.score[h(this.player)]}},{key:"getWinner",value:function(){return this.finished?this.score[1]===this.score[2]?-1:this.score[1]>this.score[2]?1:2:0}}]),t}();var V=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,8,8,s.Rectangular8Tile)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();V.title="Reversi",V.type="Reversi",V.created=1883,V.authors=["Lewis Waterman","John W. Mollett"],V.wiki="https://en.wikipedia.org/wiki/Reversi",V.rules=["Capture pieces"],V.location="England";var D=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,4,4,s.Rectangular8Tile)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();D.title="Reversi 4x4",D.type="Reversi",D.original="ReversiGame";var X=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,6,6,s.Rectangular8Tile)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();X.title="Reversi 6x6",X.type="Reversi",X.original="ReversiGame";var L=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,10,10,s.Rectangular8Tile)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();L.title="Reversi 10x10",L.type="Reversi",L.original="ReversiGame";var B=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,8,8,s.Rectangular8Tile),!0))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();B.title="Othello",B.type="Reversi",B.created=1971,B.authors=[" Goro Hasegawa"],B.wiki="https://en.wikipedia.org/wiki/Reversi",B.location="Japan",B.original="ReversiGame";var Q=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,4,4,s.Rectangular8Tile),!0))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();Q.title="Othello 4x4",Q.type="Reversi",Q.original="OthelloGame";var U=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,!1,s.Shape.Rhombus,8))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();U.title="Hex Reversi",U.type="Reversi",U.original="ReversiGame";var J=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,4))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,q),e}();J.title="Hex Reversi 4x4",J.type="Reversi",J.original="ReversiGame";var Z=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var K=function(){function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moves=[],this.player=1,this.winner=0,this.playerTiles={1:[],2:[]},this.finished=!1,this.grid=e,this.tileMap=Object(s.toMap)(e.tiles),this.freeTilesMap=Object(s.toMap)(e.tiles),Object(s.link)(this.tileMap),this.markLine(this.grid.tile(0,0),this.grid.tile(0,this.grid.y-1),1,"begin"),this.markLine(this.grid.tile(this.grid.x-1,0),this.grid.tile(this.grid.x-1,this.grid.y-1),1,"end"),this.markLine(this.grid.tile(0,0),this.grid.tile(this.grid.x-1,0),2,"begin"),this.markLine(this.grid.tile(0,this.grid.y-1),this.grid.tile(this.grid.x-1,this.grid.y-1),2,"end")}return $(t,[{key:"possible",value:function(){return this.finished?[]:Object(s.toArray)(this.freeTilesMap)}},{key:"links",value:function(){return[[this.grid.tile(-1,1),this.grid.tile(-1,this.grid.y-1),1],[this.grid.tile(this.grid.x,0),this.grid.tile(this.grid.x,this.grid.y-2),1],[this.grid.tile(1,-1),this.grid.tile(this.grid.x-1,-1),2],[this.grid.tile(0,this.grid.y),this.grid.tile(this.grid.x-2,this.grid.y),2]]}},{key:"move",value:function(t){t.data=this.player,this.playerTiles[this.player].push(t),this.player=h(this.player),this.moves.push(t),this.freeTilesMap.delete(t.key),this.winner=this.getWinner(),(this.moves.length===this.grid.tiles.length||this.winner)&&(this.finished=!0)}},{key:"moveToString",value:function(t){return t?f(this.grid.toPoint(t)):"pass"}},{key:"stringToMove",value:function(t){var e=c(t);if(!e)return e;var n=this.grid.tile.apply(this.grid,e);return this.tileMap.get(n.key)}},{key:"undo",value:function(){var t=this.moves.pop();t.data=null,this.freeTilesMap.set(t.key,t),this.player=h(this.player),this.finished=!1,this.winner=0,this.playerTiles[this.player].pop()}},{key:"evaluate",value:function(){throw new Error("Method not implemented.")}},{key:"winning",value:function(){for(var t=this.moves[this.moves.length-1],e=new Map([[t.key,!0]]),n=[{tile:t,previous:null}],r=t.data,i=0,o=void 0,a=void 0;i<n.length;){var u=n[i].tile;if(u["begin"+r]?o=o||n[i]:u["end"+r]&&(a=a||n[i]),o&&a){for(var s=[],l=o;l;)s.push(l.tile),l=l.previous;l=a;for(var c=[];l;)c.unshift(l.tile),l=l.previous;return c.shift(),s.concat(c)}var f=!0,h=!1,p=void 0;try{for(var y,v=u.links[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var d=y.value,b=Z(d,2)[1];b.data===r&&(e.has(b.key)||(n.push({tile:b,previous:n[i]}),e.set(b.key,!0)))}}catch(t){h=!0,p=t}finally{try{!f&&v.return&&v.return()}finally{if(h)throw p}}i++}}},{key:"getWinner",value:function(){if(!this.moves.length)return 0;var t=this.moves[this.moves.length-1];return this.flood(t)?t.data:this.moves.length===this.grid.tiles.length?-1:0}},{key:"markLine",value:function(t,e,n,r){var i=this;s.Float3.line(t,e).forEach(function(t){i.tileMap.get(t.toString())[r+n]=!0})}},{key:"flood",value:function(t){for(var e=new Map([[t.key,!0]]),n=[t],r=t.data,i=0,o=!1,a=!1;i<n.length;){var u=n[i];if(u["begin"+r]?o=!0:u["end"+r]&&(a=!0),o&&a)return!0;var s=!0,l=!1,c=void 0;try{for(var f,h=u.links[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var p=f.value,y=Z(p,2)[1];y.data===r&&(e.has(y.key)||(n.push(y),e.set(y.key,!0)))}}catch(t){l=!0,c=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}i++}return!1}}]),t}();var tt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,11))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,K),e}();tt.title="Hex",tt.type="Hex",tt.created=1942,tt.location="Denmark",tt.authors=["Piet Hein","John Nash"],tt.aliases=["Con-tac-tix"],tt.wiki="https://en.wikipedia.org/wiki/Hex_(board_game)",tt.rules=["Connect edges"];var et=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,5))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,K),e}();et.title="Hex 5x5",et.type="Hex",et.original="HexGame";var nt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,6))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,K),e}();nt.title="Hex 6x6",nt.type="Hex",nt.original="HexGame";var rt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,9))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,K),e}();rt.title="Hex 9x9",rt.type="Hex",rt.original="HexGame";var it=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,11))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,K),e}();it.title="Hex 11x11",it.type="Hex",it.original="HexGame";var ot=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,13))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,K),e}();ot.title="Hex 13x13",ot.type="Hex",ot.original="HexGame";var at=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p(new s.HexagonalGrid(1,void 0,s.Shape.Rhombus,14))))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,K),e}();at.title="Hex 14x14",at.type="Hex",at.original="HexGame";var ut=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var st=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moves=[],this.player=1,this.scale=1,this.winner=0,this.grid=e,this.tileMap=Object(s.toMap)(this.grid.tiles),Object(s.link)(this.tileMap);var n=0,r=(this.grid.tiles.length-1)/2,i=!0,o=!1,a=void 0;try{for(var u,l=this.grid.tiles[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,f=!0,h=!1,p=void 0;try{for(var y,v=c.links[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var d=y.value;[c.key,d[1].key].sort(),c.x%2&&c.y%2||d[1].x===c.x||d[1].y===c.y||c.links.delete(d[0])}}catch(t){h=!0,p=t}finally{try{!f&&v.return&&v.return()}finally{if(h)throw p}}n<r?c.data=1:n>r&&(c.data=2),n++}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return ut(t,[{key:"rulers",value:function(){var t=new Map,e=!0,n=!1,r=void 0;try{for(var i,o=this.grid.tiles[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=!0,s=!1,l=void 0;try{for(var c,f=a.links[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value,p=[a.key,h[1].key];p.sort(),t.set(p.toString(),[a,h[1]])}}catch(t){s=!0,l=t}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return Array.from(t.values())}},{key:"possible",value:function(){return[]}},{key:"move",value:function(t){throw new Error("Method not implemented.")}},{key:"undo",value:function(){throw new Error("Method not implemented.")}},{key:"evaluate",value:function(){throw new Error("Method not implemented.")}}]),t}();st.wip=!0;var lt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,5,5,s.Rectangular8Tile)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,st),e}();lt.title="Catch the Hare",lt.type="Misc",lt.wiki="https://en.wikipedia.org/wiki/Catch_the_Hare",lt.location="Europe",lt.created=1283;var ct=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var ft=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,!1,s.Shape.Even,5,5,s.Rectangular8Tile)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,st),ct(e,[{key:"possible",value:function(){var t=this;return this.grid.tiles.filter(function(e){e.data,t.player}),[]}}]),e}();ft.title="Alquerque",ft.type="Misc",ft.created=950,ft.aliases=["Qirkat"],ft.location="Middle East",ft.wiki="https://en.wikipedia.org/wiki/Alquerque";var ht=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var pt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moves=[],this.player=1,this.winner=0,this.grid=e,this.tileMap=Object(s.toMap)(e.tiles),this.init(n,r)}return ht(t,[{key:"possible",value:function(){return[]}},{key:"move",value:function(t){throw new Error("Method not implemented.")}},{key:"undo",value:function(){throw new Error("Method not implemented.")}},{key:"evaluate",value:function(){throw new Error("Method not implemented.")}},{key:"init",value:function(t,e){for(var n=[[0,t,"1"],[this.grid.y-t,this.grid.y,"2"]],r=0;r<n.length;r++)for(var i=n[r],o=i[0];o<i[1];o++)for(var a=1===e?0:o%2;a<this.grid.x;a+=e)this.tileMap.get(this.grid.tile(a,o).key).data=i[2]}}]),t}();pt.wip=!0;var yt=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,8,8,s.Rectangular8Tile),3)),n=!0,r=!1,i=void 0;try{for(var o,a=t.grid.tiles[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;u.even=u.x%2==u.y%2,u.odd=!u.even}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,pt),e}();yt.title="Czech Checkers",yt.type="Checkers";var vt=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.RectangularGrid(1,void 0,s.Shape.Even,10,10,s.Rectangular8Tile),4)),n=!0,r=!1,i=void 0;try{for(var o,a=t.grid.tiles[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;u.even=u.x%2==u.y%2,u.odd=!u.even}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,pt),e}();vt.title="International Checkers",vt.type="Checkers";var dt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,new s.HexagonalGrid(1,!0,s.Shape.Odd,4,8),3,1))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,pt),e}();dt.title="Hex Czech Checkers",dt.type="Checkers";var bt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var wt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.moves=[],this.player=1,this.scale=.33,this.winner=0;var i=2*e+1,o=e;this.grid=new s.RectangularGrid(1,void 0,s.Shape.Even,i,i,r?s.Rectangular8Tile:s.RectangularTile),this.tileMap=Object(s.toMap)(this.grid.tiles),Object(s.link)(this.tileMap),this.grid.tiles=this.grid.tiles.filter(function(t){var e=void 0,r=void 0,i=Math.abs(t.x-o),a=Math.abs(t.y-o);if(0===i&&0===a?(e=n,r=!n):e=i===a||(n?0===i||0===a:0===i?!(0===a):0===a),e){if(i!==a){var u=!0,s=!1,l=void 0;try{for(var c,f=t.links.keys()[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;Math.abs(h)>2&&(t.links.get(h).links.delete(-h),t.links.delete(h))}}catch(t){s=!0,l=t}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}}}else!function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,r=!1,i=void 0;try{for(var o,a=t.links.keys()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(t.links.has(-u)&&!e){var s=t.links.get(-u),l=t.links.get(u);l.links.set(-u,s),s.links.set(u,l)}else t.links.get(u).links.delete(-u)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}(t,r);return e})}return bt(t,[{key:"links",value:function(){var t=new Map,e=!0,n=!1,r=void 0;try{for(var i,o=this.grid.tiles[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,u=!0,s=!1,l=void 0;try{for(var c,f=a.links[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value,p=[a.key,h[1].key];p.sort(),t.set(p.toString(),[a,h[1]])}}catch(t){s=!0,l=t}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return Array.from(t.values())}},{key:"possible",value:function(){return[]}},{key:"move",value:function(t){throw new Error("Method not implemented.")}},{key:"undo",value:function(){throw new Error("Method not implemented.")}},{key:"evaluate",value:function(){throw new Error("Method not implemented.")}}]),t}();wt.wip=!0;var gt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,3))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,wt),e}();gt.title="Nine Men's Morris",gt.type="Mills",gt.created=-1400,gt.location="Egypt",gt.wiki="https://en.wikipedia.org/wiki/Nine_Men%27s_Morris";var mt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,3,!1,!0))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,wt),e}();mt.title="Twelve Men's Morris",mt.type="Mills";var kt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,2))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,wt),e}();kt.title="Six Men's Morris",kt.type="Mills",kt.created=-1400,kt.location="Egypt",kt.wiki="https://en.wikipedia.org/wiki/Six_Men%27s_Morris";var xt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,1,!0))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,wt),e}();xt.title="Three Men's Morris",xt.type="Mills",xt.created=-1400,xt.location="Egypt",xt.wiki="https://en.wikipedia.org/wiki/Three_Men%27s_Morris";var _t=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,1,!0,!0))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,wt),e}();_t.title="Three Diagonal Men's Morris",_t.type="Mills";var Ot=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var Tt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count=0,this.hit=0,this.depth=0,this.depth=e}return Ot(t,[{key:"select",value:function(t){return{move:this.move(t,this.depth),count:this.count,hit:this.hit}}},{key:"move",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.count=0;var r=t.possible(),i=-1/0,o=void 0,a=!0,u=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;t.move(f);var h=this.minimax(e-1,t,-1/0,1/0,!n);t.undo(),h>i&&(i=h,o=f)}}catch(t){u=!0,s=t}finally{try{!a&&c.return&&c.return()}finally{if(u)throw s}}return o}},{key:"minimax",value:function(t,e,n,r,i){if(this.count++,0===t)return e.evaluate();var o=e.possible();if(i){var a=-1/0,u=!0,s=!1,l=void 0;try{for(var c,f=o[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;if(e.move(h),a=Math.max(a,this.minimax(t-1,e,n,r,!i)),e.undo(),r<=(n=Math.max(n,a)))return this.hit++,a}}catch(t){s=!0,l=t}finally{try{!u&&f.return&&f.return()}finally{if(s)throw l}}return a}var p=1/0,y=!0,v=!1,d=void 0;try{for(var b,w=o[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var g=b.value;if(e.move(g),p=Math.min(p,this.minimax(t-1,e,n,r,!i)),e.undo(),(r=Math.min(r,p))<=n)return this.hit++,p}}catch(t){v=!0,d=t}finally{try{!y&&w.return&&w.return()}finally{if(v)throw d}}return p}}]),t}(),jt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var St=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return jt(t,[{key:"select",value:function(t){var e=t.possible();return{move:e[Math.floor(Math.random()*e.length)]}}}]),t}(),Et=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Pt=function(){function t(e,n,r){Mt(this,t),this.action=r,this.parentNode=n,this.children=[],this.wins=0,this.visits=0,this.unexamined=e.possible(),this.activePlayer=e.player%2+1}return Et(t,[{key:"addChild",value:function(e,n){var r=new t(e,this,this.unexamined[n]);return this.unexamined.splice(n,1),this.children.push(r),r}},{key:"selectChild",value:function(){var t=null,e=Number.NEGATIVE_INFINITY,n=!0,r=!1,i=void 0;try{for(var o,a=this.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=u.wins/u.visits+Math.sqrt(2*Math.log(this.visits)/u.visits);s>e&&(t=u,e=s)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"update",value:function(t){this.visits++,this.wins+=this.activePlayer===t?1:-1===t?0:-1}},{key:"mostVisitedChild",value:function(){return this.children.sort(function(t,e){return e.visits-t.visits}),this.children[0]}}]),t}(),Rt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8192,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;Mt(this,t),this.blockSize=r,this.maxTime=e,this.maxIterations=n}return Et(t,[{key:"select",value:function(t){var e=new Pt(t),n=Date.now(),r=n+this.maxTime,i=0;if(1===e.unexamined.length)return{duration:Date.now()-n,move:e.unexamined[0],nodesVisted:i};for(var o=0;o<this.maxIterations&&Date.now()<r;o+=this.blockSize)for(var a=0;a<this.blockSize;++a){for(var u=e,s=t.moves.length;0===u.unexamined.length&&u.children.length>0;)u=u.selectChild(),t.move(u.action);if(u.unexamined.length>0){var l=Math.floor(Math.random()*u.unexamined.length);t.move(u.unexamined[l]),u=u.addChild(t,l)}for(var c=t.possible();c.length>0;)t.move(c[Math.floor(Math.random()*c.length)]),++i,c=t.possible();for(var f=t.winner;u;)u.update(f),u=u.parentNode;for(;t.moves.length>s;)t.undo()}return{duration:Date.now()-n,move:e.mostVisitedChild().action,nodesVisted:i}}}]),t}(),Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ht,Nt=function(){function t(e,n,r){zt(this,t),this.depth=e.moves.length,this.action=r,this.parentNode=n,this.children=[],this.wins=0,this.visits=0,this.unexamined=e.possible(),this.activePlayer=e.player%2+1}return Gt(t,[{key:"addChild",value:function(e,n){var r=new t(e,this,this.unexamined[n]);return this.unexamined.splice(n,1),this.children.push(r),r}},{key:"selectChild",value:function(){var t=null,e=Number.NEGATIVE_INFINITY,n=!0,r=!1,i=void 0;try{for(var o,a=this.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=u.wins/u.visits+Math.sqrt(2*Math.log(this.visits)/u.visits);s>e&&(t=u,e=s)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"update",value:function(t){this.visits++,this.wins+=this.activePlayer===t?1:-1===t?0:-1}},{key:"mostVisitedChild",value:function(){return this.children.sort(function(t,e){return e.visits-t.visits}),this.children[0]}}]),t}(),It=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8192,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;zt(this,t),this.blockSize=r,this.maxTime=e,this.maxIterations=n}return Gt(t,[{key:"select",value:function(t){for(var e=this.getRoot(t)||new Nt(t),n=Date.now(),r=n+this.maxTime,i=0,o=0;o<this.maxIterations&&Date.now()<r;o+=this.blockSize)for(var a=0;a<this.blockSize;++a){for(var u=e,s=t.moves.length;0===u.unexamined.length&&u.children.length>0;)u=u.selectChild(),t.move(u.action);if(u.unexamined.length>0){var l=Math.floor(Math.random()*u.unexamined.length);t.move(u.unexamined[l]),u=u.addChild(t,l)}for(var c=t.possible();c.length>0;)t.move(c[Math.floor(Math.random()*c.length)]),++i,c=t.possible();for(var f=t.winner;u;)u.update(f),u=u.parentNode;for(;t.moves.length>s;)t.undo()}return this.cachedRoot=e.mostVisitedChild(),{duration:Date.now()-n,move:this.cachedRoot.action,nodesVisted:i}}},{key:"getRoot",value:function(t){var e=this;if(this.cachedRoot&&!(this.cachedRoot.depth>=t.moves.length)){for(var n=function(n){if(e.cachedRoot=e.cachedRoot.children.find(function(e){return e.action===t.moves[n]}),!e.cachedRoot)return{v:void 0}},r=this.cachedRoot.depth;r<t.moves.length;r++){var i=n(r);if("object"===(void 0===i?"undefined":Ct(i)))return i.v}return this.cachedRoot}}}]),t}(),At=r,Yt=n(1),Wt=n.n(Yt),Ft="Human",qt=(Ht={},Wt()(Ht,Ft,function(){return!1}),Wt()(Ht,"Default",function(t){return t.player?t.player():new It(400)}),Wt()(Ht,"Random",function(){return new St}),Wt()(Ht,"Instant UCT",function(){return new Rt(200)}),Wt()(Ht,"Fast UCT",function(){return new Rt(400)}),Wt()(Ht,"Slow UCT",function(){return new Rt(1600)}),Wt()(Ht,"Instant Cached UCT",function(){return new It(200)}),Wt()(Ht,"Fast Cached UCT",function(){return new It(400)}),Wt()(Ht,"Slow Cached UCT",function(){return new It(1600)}),Wt()(Ht,"Minimax 1",function(){return new R(1)}),Wt()(Ht,"Minimax 2",function(){return new R(2)}),Wt()(Ht,"Minimax 3",function(){return new R(3)}),Wt()(Ht,"Minimax 4",function(){return new R(4)}),Wt()(Ht,"Alpha Beta 1",function(){return new Tt(1)}),Wt()(Ht,"Alpha Beta 2",function(){return new Tt(2)}),Wt()(Ht,"Alpha Beta 3",function(){return new Tt(3)}),Wt()(Ht,"Alpha Beta 4",function(){return new Tt(4)}),Wt()(Ht,"Alpha Beta 5",function(){return new Tt(5)}),Wt()(Ht,"Alpha Beta 6",function(){return new Tt(6)}),Wt()(Ht,"Alpha Beta 7",function(){return new Tt(7)}),Ht);var Vt=void 0,Dt=void 0;self.onmessage=function(t){if(t.data.player){var e=At[t.data.game+"Game"];Vt=qt[t.data.player](e),Dt=new e}else{!function(t){for(;t.moves.length;)t.undo()}(Dt),function(t,e){if(e)for(var n=e.replace(/[^0-9a-z-,]+/g,"").split(",");n.length>t.moves.length;)t.move(t.stringToMove(n[t.moves.length]))}(Dt,t.data.game);var n=Vt.select(Dt);n.move=Dt.moveToString(n.move),n.id=t.data.id,self.postMessage(a()(n))}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(3),i=n(7).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=!n(2)&&!n(5)(function(){return 7!=Object.defineProperty(n(12)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(6),i=n(10);t.exports=n(2)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(16);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(7),i=n(4),o=n(17),a=n(15),u=function(t,e,n){var s,l,c,f=t&u.F,h=t&u.G,p=t&u.S,y=t&u.P,v=t&u.B,d=t&u.W,b=h?i:i[e]||(i[e]={}),w=b.prototype,g=h?r:p?r[e]:(r[e]||{}).prototype;for(s in h&&(n=e),n)(l=!f&&g&&void 0!==g[s])&&s in b||(c=l?g[s]:n[s],b[s]=h&&"function"!=typeof g[s]?n[s]:v&&l?o(c,r):d&&g[s]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):y&&"function"==typeof c?o(Function.call,c):c,y&&((b.virtual||(b.virtual={}))[s]=c,t&u.R&&w&&!w[s]&&a(w,s,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(18);r(r.S+r.F*!n(2),"Object",{defineProperty:n(6).f})},function(t,e,n){n(19);var r=n(4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){t.exports={default:n(20),__esModule:!0}},function(t,e,n){var r=n(4),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}]);