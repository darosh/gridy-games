(self.webpackJsonp=self.webpackJsonp||[]).push([[7],{359:function(e,a,t){"use strict";var o=t(5);function n(e,a=50,t=300){return{data:()=>({showDialog:!1}),watch:{[e]:{immediate:!0,handler(e){e&&o.a.nextTick(()=>{setTimeout(()=>{this.showDialog=!0},a)})}},showDialog:function(a){a||setTimeout(()=>{!function(e,a){const t=a.split("."),o=t.pop();let n=e;for(;t.length;)n=n[t.shift()];return function(e){n[o]=e}}(this,e)(!1)},t)}}}}t.d(a,"a",function(){return n})},395:function(e,a,t){"use strict";t.d(a,"b",function(){return i}),t.d(a,"a",function(){return r});var o=t(99),n=t.n(o);const i=[];function r(e,a=0){const t=new Date;"object"==typeof e?i.push({msg:function(e){try{return n()(e)}catch(e){return e.message}}(e),level:a,time:t}):e.startsWith("Message: ")||i.push({msg:e,level:a,time:t})}},510:function(e){e.exports=["Abyss","Acolytes","Aegis","Agent","Aginar","Ahab","Ajak","Ajaxis","Akemi","Alain","Albion","Alice","Amethyst","Amiko","Amun","Angel","Anole","Anthem","Aquaman","Aqueduct","Arcade","Arclight","Ares","Argent","Armor","Armory","Arsenal","Arsenic","Artemis","Artiee","Aspen","Asterix","Asylum","Atlas","Atom","Atomic","Avalon","Azazel","Azrael","Aztec","Babaing","Banshee","Barb","Bastion","Batman","Battle","Beak","Beast","Bebop","Becatron","Bedlam","Beef","Beetle","Bengal","Binary","Bishop","Bizarro","Black","Blackbat","Blackout","Blade","Blastaar","Blink","Blizzard","Blob","Blok","Bloke","Blonde","Bloodaxe","Bloom","Blossom","Blue","Blur","Bonnie","Boom","Bounty","Brainiac","Brandy","Bronze","Brood","Bruce","Bubbles","Bucky","Buff","Buffy","Bullseye","Burnout","Cable","Calamity","Calendar","Caliban","Callisto","Calypso","Cammi","Cammy","Captain","Cardiac","Cargill","Carnage","Catseye","Celsius","Cerebro","Cerise","Cesspool","Chance","Chase","Chastity","Chat","Cheetah","Cherry","Choice","Cimarron","Cinnamon","Circuit","Cloak","Cobweb","Colleen","Colossus","Colt","Comedian","Copycat","Corsair","Cosmo","Crazy","Crimson","Crule","Crystal","Cuckoo","Cuthbert","Cybersix","Cyblade","Cyborg","Cyclops","Daken","Damian","Darkhawk","Darkstar","Dart","Darwin","Dawn","Dawnstar","Dead","Deadpool","Death","Deathcry","Deathlok","Debrii","Deep","Devi","Deviants","Devos","Diablo","Diamond","Dick","Doctor","Doll","Dollar","Dolphin","Domino","Doomsday","Doop","Doorman","Dormammu","Dorothy","Dove","Drax","Dream","Druig","Dumb","Dusk","Dust","Echo","Electro","Elixir","Empath","Epoch","Eternals","Eternity","Exiles","Exodus","Ezekiel","Faith","Falcon","Fallen","Fantomah","Fantomex","Fathom","Fenris","Feral","Fire","Firebird","Firefly","Firelord","Firestar","Flash","Flatman","Flint","Forearm","Forge","Freak","Free","Freefall","Frenzy","Fury","Galactus","Gambit","Ganymede","Gargoyle","Gateway","Genesis","Gertrude","Ghost","Gideon","Glorian","Glory","Gloss","Goliath","Gorgon","Grace","Graphics","Gravity","Green","Gressill","Groot","Guardian","Guile","Gwen","Gypsy","HYDRA","Hairball","Halo","Hank","Hardball","Harpoon","Haven","Havok","Hawk","Hawkeye","Hawkman","Hellboy","Hellcat","Hellion","Helspont","Hepzibah","Hercules","Hiroim","Hitman","Holy","Hooded","Horridus","Hulk","Hulkling","Humbug","Husk","Hussar","Hyperion","Iceman","Ichigo","Ikaris","Impulse","Indigo","Insect","Iron","Ironclad","Jackal","Jackpot","Jade","Jake","Jann","Jean","Jericho","Jesse","Jigsaw","Jinx","Jolt","Jonah","Jonni","Joseph","Joystick","Jubilee","Jungle","Justice","Kabuki","Kamandi","Kang","Kaoru","Karnak","Kasumi","Kelly","Khan","Kimberly","Kinetix","Kingpin","Kitty","Klaw","Knockout","Kole","Komodo","Korath","Korg","Korvac","Kraven","Kree","Kristin","Kronos","Kumori","Kyle","Kylun","Lady","Ladyhawk","Lagoon","Lake","Landau","Lanolin","Laurel","Leech","Leeloo","Legion","Lenore","Leonardo","Lettuce","Liberty","Lilith","Lime","Little","Lizard","Lobo","Lockheed","Lockjaw","Logan","Loki","Longshot","Luckman","Luminals","Lynn","Madame","Maddog","Madrox","Maestro","Maggott","Magik","Maginty","Magneto","Magus","Maiden","Makkari","Malice","Mandarin","Mandrill","Mandroid","Manitou","Mantis","Marrow","Martian","Marvel","Marvex","Mary","Masque","Maverick","Maximum","Maximus","Megatron","Meggan","Meltdown","Menace","Mentallo","Mentor","Mephisto","Mercury","Merry","Mesmero","Microbe","Micromax","Midnight","Miek","Mighty","Mimic","Mindworm","Mint","Mirage","Misfit","Miss","Misty","Miyako","Mojo","Molly","Momoko","Mongoose","Mongu","Moonstar","Morbius","Mordo","Morg","Morlocks","Morlun","Morph","Moth","Muskrat","Mysterio","Mystique","Namor","Naoko","Negative","Nehzno","Nemesis","Neon","Network","Nextwave","Nico","Nicolaos","Night","Nightcat","Nikki","Nimrod","Niobe","Nitro","Nomad","Nuke","Odin","Ogun","Onyx","Oracle","Orion","Orphan","Overlord","Owlman","Paibok","Paladin","Pandemic","PantyMan","Patch","Patriot","Payback","Penance","Penguin","Phalanx","Phantom","Phoenix","Photon","Pilgrim","Pink","Pixie","Plastic","Plazm","Poison","Polaris","Post","Preak","Pride","Prism","Prodigy","Proteus","PsyNapse","Psylocke","Psynch","Puck","Pudding","Pyro","Quasar","Queen","Rage","Rainbow","Rampage","Randall","Random","Raphael","Raptor","Rapture","Raven","Ravenous","Redwing","Reptil","Rescue","Revanche","Reverse","Rhino","Rictor","Riptide","Risque","Robin","Rogue","Romulus","Ronan","Ronin","Rose","Rouge","Roxy","Rumble","Runaways","Russian","Sage","Sailor","Salo","Samus","Sandman","Saracen","Saturn","Sauron","Savant","Scorpion","Scourge","Scream","Sentinel","Sentry","Sersi","Shadow","Shakti","Shaman","Shamrock","Shape","Shard","Shazam","Shikari","Shining","Shotgun","Shriek","Siege","Silk","Sinann","Siren","Siryn","Skaar","Skids","Skin","Skrulls","Slayback","Slyde","Snowbird","Solo","Songbird","Spartan","Sparx","Spawn","Spectrum","Speed","Speedy","Sphinx","Spiral","Spirit","Spitfire","Spot","Spyke","Squirrel","Stacy","Starbolt","Stardust","Starfire","Starfox","Starhawk","Stature","Steel","Stepford","Stick","Stingray","Storm","Stryfe","Sumo","Sunfire","Sunspot","Superman","Surge","Swarm","Sway","Swift","Switch","Synch","Talisman","Talkback","Talon","Talos","Tank","Tarot","Tattoo","Tempest","Tempo","Terrax","Terror","Terry","Thanos","Thing","Thor","Tick","Timeslip","Toad","Tomas","Topaz","Toro","Toxin","Traci","Trini","Triton","Tsunami","Turbo","Tusk","Tyrannus","Tyrant","Ulik","Ultimo","Ultron","Umar","Unicorn","Unus","Valis","Valkyrie","Vampiro","Vapor","Vargas","Vector","Velocity","Venom","Venus","Vermin","Vertigo","Violator","Virtuous","Vision","Vixen","Vogue","Void","Voodoo","Vulcan","Vulture","Wallop","Wallow","Warbird","Warbound","Warhawk","Warlock","Warpath","Warstar","Wasp","Watchmen","Wendigo","Wendy","Whiplash","Wiccan","Wild","Wildcat","Wildside","Willow","Wind","Winged","Wolfpack","Wong","Word","Wraith","Xavin","Xorn","Yellow","Zakuro","Zaran","Zarek","Zealot","Zeigeist","Zemo","Zodiak","Zombie","Zuras","Zzzax"]},513:function(e,a,t){var o=t(512),n=t(510);a.all=n,a.random=o(n)},517:function(e,a,t){(e.exports=t(1)(!1)).push([e.i,".action-buttons[data-v-71860a5e]{justify-content:space-between}.action-buttons [data-v-71860a5e]{min-width:0}",""])},518:function(e,a,t){var o=t(517);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,t(139).default)("6f1fbd5b",o,!0,{})},627:function(e,a,t){"use strict";t.r(a);var o=t(395),n=t(94),i=t(516),r=t(513);function l(){return`${Object(r.random)()} ${function(){const e="A".charCodeAt(0),a="Z".charCodeAt(0);return String.fromCharCode(Math.floor(Math.random()*(a-e+1))+e)}()}${Math.floor(9*Math.random())+1}`}const s=t(509);t(492),t(490),t(455);const c=!1;let u,d,m,h,g,b,f,y,p,k,S,v,D,C,M=0;function O(){k=0,y=f.child("online"),Object(o.a)("Attach on disconnect",3),(p=y.onDisconnect()).set(0,A),Object(o.a)("Attach online",3),y.on("value",E),m=!0}function A(e){Object(o.a)("On disconnect DONE",3),e&&Object(o.a)(e,2)}function T(){k=0,y&&(Object(o.a)("Detach online",3),y.off("value")),p&&(Object(o.a)("Cancel on disconnect",3),p.cancel()),m=!1}function w(e){n.c.offset=e.val(),Object(o.a)(`Server offset: ${n.c.offset}`)}function N(e){const a=e.val();if(Object(o.a)("Connection changed to: "+a,2),M)return Object(o.a)("Ignoring diconnection,forced"),void M--;y?a||(Object(o.a)("Connection lost",2),L(n.d.DISCONNECTED_NET),P()):Object(o.a)("Ignoring diconnection, no user")}function j(e){if(Object(o.a)("Auth changed"),L(n.d.INITIALIZED),n.c.guest=e&&e.isAnonymous,!C&&e)return Object(o.a)("Auth ignored",2),D=e,B(),void L(n.d.DISCONNECTED_OTHER);D=!1,C=!1,e?function(e){L(null,n.b.CONNECTING),d?G():(Object(o.a)("Initializing database"),d=u.database(),f=null,v=d.ref("users").orderByChild("online").startAt(1),g=s.database().ref(".info/connected"),(b=s.database().ref(".info/serverTimeOffset")).on("value",w),g.on("value",N));Object(o.a)("Setting user"),h=e,f=d.ref("users/"+h.uid),L(n.d.LOGIN),f.once("value").then(x)}(e):B()}function B(){Object(o.a)("Resetting user"),T(),h=null,f=null,y=null}function x(e){const a=s.database.ServerValue.TIMESTAMP,t=l(),r=Object(i.a)(),c=s.database.ServerValue.TIMESTAMP,u=h.isAnonymous;L(null,n.b.UPDATING_USER),e.child("name").exists()?(Object(o.a)("Updating meta"),f.update({last:a,online:c,authed:!0,version:"0.41.248"},()=>{Object(o.a)("Updating meta DONE"),L(n.d.USER)})):(Object(o.a)("Setting meta"),f.update({last:a,name:t,avatar:r,online:c,authed:!0,guest:u},()=>{Object(o.a)("Setting meta DONE"),L(n.d.USER)})),O()}function E(e){if(1===++k)return;const a=e.val();Object(o.a)("Online counter: "+k),2!==k?a&&(Object(o.a)("Connection replaced",2),L(n.d.DISCONNECTED_OTHER),P(!0)):S=a}function L(e,a){if(null!==e&&!isNaN(e)){if(Object(o.a)(`State: ${n.d[e]}`,1),void 0===n.d[e])throw new Error("Undefined state: ",e);n.c.value=e}a&&(Object(o.a)(`Message: ${a}`,1),n.c.message=a)}function I(e){console.error(e),n.c.error=e,L(n.d.INITIALIZED)}function R(e){e&&(M++,T()),Object(o.a)("Gone offline",2),d.goOffline()}function P(e){Object(o.a)("Going offline",2),y&&!e?(Object(o.a)("Setting user online: 0"),y.set(0),R()):R(e)}function G(){Object(o.a)("Going online"),d.goOnline()}L(n.d.NULL,n.b.INITIALIZING),u=s.initializeApp(c),h=s.auth().currentUser,s.auth().setPersistence(s.auth.Auth.Persistence.LOCAL),C=!0,s.auth().onAuthStateChanged(j);var H=t(359),K={components:{VDialog:()=>t.e(14).then(function(){var e=t(632);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})})},mixins:[Object(H.a)("state.logout")],data:()=>({state:n.c}),methods:{logOut:function(){C=!0,Object(o.a)("Resetting log out"),L(n.d.LOGOUT),T(),f.update({online:0,authed:!1}).then(()=>{Object(o.a)("Resetting log out DONE"),s.auth().signOut().then(()=>{Object(o.a)("Log out DONE"),setTimeout(()=>{P(),h=null,f=null,L(n.d.INITIALIZED)},200)})})},deleteOut:function(){C=!0,Object(o.a)("Delete user data",2),T(),L(null,n.b.DELETING_DATA),f.remove().then(()=>{Object(o.a)("Delete user",2),L(null,n.b.DELETING_USER),h.delete().then(()=>{Object(o.a)("Delete user DONE",2),L(n.d.INITIALIZED)}).catch(I)})},disconnect:function(){M++,P(),L(n.d.DISCONNECTED_NET)}}},W=t(93);var _=function(e){t(518)},F=Object(W.a)(K,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-dialog",{attrs:{light:"","max-width":"520"},model:{value:e.showDialog,callback:function(a){e.showDialog=a},expression:"showDialog"}},[t("v-card",{attrs:{light:""}},[t("v-card-title",{staticClass:"title"},[t("span",{staticClass:"pa-2"},[e._v("Log out "+e._s(e.state.guest?"guest":""))])]),e._v(" "),e.state.guest?t("v-card-text",{staticClass:"px-4 pt-0"},[e._v("\n      Delete guest account, or just disconnect from realtime playing.\n    ")]):t("v-card-text",{staticClass:"px-4 pt-0"},[e._v("\n      Log out, or delete account, or just disconnect from realtime playing.\n    ")]),e._v(" "),t("v-card-actions",{staticClass:"action-buttons"},[t("v-layout",{staticStyle:{"align-items":"flex-end"},attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"px-2"},[t("v-btn",{staticClass:"mb-2",attrs:{dark:"",color:"red"},on:{click:function(a){e.showDialog=!1,e.deleteOut()}}},[e._v("Delete")]),e._v(" "),t("div",{staticClass:"d-inline-block"},[e.state.guest?e._e():t("v-btn",{staticClass:"mb-2",attrs:{color:"primary",flat:"",light:""},on:{click:function(a){e.showDialog=!1,e.logOut()}}},[e._v("Logout")]),e._v(" "),t("v-btn",{staticClass:"mb-2",attrs:{color:"primary",flat:""},on:{click:function(a){e.showDialog=!1,e.disconnect()}}},[e._v("Disconnect")])],1)],1),e._v(" "),t("v-layout",{staticStyle:{"justify-content":"flex-end"},attrs:{row:""}},[t("div",[t("v-btn",{staticClass:"mb-2",attrs:{flat:"",light:""},on:{click:function(a){e.showDialog=!1}}},[e._v("Dismiss")])],1)])],1)],1)],1)],1)},[],!1,_,"data-v-71860a5e",null);a.default=F.exports}}]);